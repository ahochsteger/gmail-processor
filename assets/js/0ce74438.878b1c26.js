"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[342],{74901:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var i=s(85893),r=s(11151);const n={id:"actions",sidebar_position:33},a="Actions",o={id:"reference/actions",title:"Actions",description:"Overview",source:"@site/docs/reference/actions.md",sourceDirName:"reference",slug:"/reference/actions",permalink:"/gmail-processor/docs/reference/actions",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/actions.md",tags:[],version:"current",sidebarPosition:33,frontMatter:{id:"actions",sidebar_position:33},sidebar:"docsSidebar",previous:{title:"Enum Types",permalink:"/gmail-processor/docs/reference/enum-types"},next:{title:"Placeholder",permalink:"/gmail-processor/docs/reference/placeholder"}},d={},c=[{value:"Overview",id:"overview",level:2},{value:"Attachment Actions",id:"attachment-actions",level:2},{value:"<code>attachment.noop</code>",id:"attachmentnoop",level:3},{value:"<code>attachment.store</code>",id:"attachmentstore",level:3},{value:"Global Actions",id:"global-actions",level:2},{value:"<code>global.log</code>",id:"globallog",level:3},{value:"<code>global.noop</code>",id:"globalnoop",level:3},{value:"<code>global.panic</code>",id:"globalpanic",level:3},{value:"<code>global.sheetLog</code>",id:"globalsheetlog",level:3},{value:"Message Actions",id:"message-actions",level:2},{value:"<code>message.forward</code>",id:"messageforward",level:3},{value:"<code>message.markRead</code>",id:"messagemarkread",level:3},{value:"<code>message.markUnread</code>",id:"messagemarkunread",level:3},{value:"<code>message.moveToTrash</code>",id:"messagemovetotrash",level:3},{value:"<code>message.noop</code>",id:"messagenoop",level:3},{value:"<code>message.star</code>",id:"messagestar",level:3},{value:"<code>message.storeFromURL</code>",id:"messagestorefromurl",level:3},{value:"<code>message.storePDF</code>",id:"messagestorepdf",level:3},{value:"<code>message.unstar</code>",id:"messageunstar",level:3},{value:"Thread Actions",id:"thread-actions",level:2},{value:"<code>thread.addLabel</code>",id:"threadaddlabel",level:3},{value:"<code>thread.markImportant</code>",id:"threadmarkimportant",level:3},{value:"<code>thread.markRead</code>",id:"threadmarkread",level:3},{value:"<code>thread.markUnimportant</code>",id:"threadmarkunimportant",level:3},{value:"<code>thread.markUnread</code>",id:"threadmarkunread",level:3},{value:"<code>thread.moveToArchive</code>",id:"threadmovetoarchive",level:3},{value:"<code>thread.moveToInbox</code>",id:"threadmovetoinbox",level:3},{value:"<code>thread.moveToSpam</code>",id:"threadmovetospam",level:3},{value:"<code>thread.moveToTrash</code>",id:"threadmovetotrash",level:3},{value:"<code>thread.noop</code>",id:"threadnoop",level:3},{value:"<code>thread.removeLabel</code>",id:"threadremovelabel",level:3},{value:"<code>thread.storePDF</code>",id:"threadstorepdf",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(t.p,{children:"The actions can be only be triggered in valid processing scopes:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#global-actions",children:(0,i.jsx)(t.code,{children:"global.*"})}),": Globally available, can be placed anywhere in the configuration."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#thread-actions",children:(0,i.jsx)(t.code,{children:"thread.*"})}),": Run in the context of a thread (includes ",(0,i.jsx)(t.code,{children:"message"})," and ",(0,i.jsx)(t.code,{children:"attachment"})," context)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#message-actions",children:(0,i.jsx)(t.code,{children:"message.*"})}),": Run in the context of a message (includes ",(0,i.jsx)(t.code,{children:"attachment"})," context)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"#attachment-actions",children:(0,i.jsx)(t.code,{children:"attachment.*"})}),": Run in the context of an attachment."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"attachment-actions",children:"Attachment Actions"}),"\n",(0,i.jsx)(t.h3,{id:"attachmentnoop",children:(0,i.jsx)(t.code,{children:"attachment.noop"})}),"\n",(0,i.jsx)(t.p,{children:"Do nothing (no operation). Used for testing."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"attachmentstore",children:(0,i.jsx)(t.code,{children:"attachment.store"})}),"\n",(0,i.jsx)(t.p,{children:"Store an attachment to a Google Drive location."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"conflictStrategy"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ConflictStrategy"})}),(0,i.jsxs)(t.td,{children:["The strategy to be used in case a file already exists at the desired location. See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#conflictstrategy",children:["Enum Type ",(0,i.jsx)(t.code,{children:"ConflictStrategy"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The description to be attached to the Google Drive file.",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"location"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The location (path + filename) of the Google Drive file.",(0,i.jsx)("br",{}),"For shared folders or Team Drives prepend the location with the folder ID like ",(0,i.jsx)(t.code,{children:"{id:<folderId>}/..."}),".",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"global-actions",children:"Global Actions"}),"\n",(0,i.jsx)(t.h3,{id:"globallog",children:(0,i.jsx)(t.code,{children:"global.log"})}),"\n",(0,i.jsx)(t.p,{children:"Create a log entry."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"level"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"LogLevel"})}),(0,i.jsxs)(t.td,{children:["The level of the log message (default: ",(0,i.jsx)(t.code,{children:"info"}),"). See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#loglevel",children:["Enum Type ",(0,i.jsx)(t.code,{children:"LogLevel"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The message to be logged."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"globalnoop",children:(0,i.jsx)(t.code,{children:"global.noop"})}),"\n",(0,i.jsx)(t.p,{children:"Do nothing (no operation). Used for testing."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"globalpanic",children:(0,i.jsx)(t.code,{children:"global.panic"})}),"\n",(0,i.jsx)(t.p,{children:"Terminate processing due to an error."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"level"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"LogLevel"})}),(0,i.jsxs)(t.td,{children:["The level of the log message (default: ",(0,i.jsx)(t.code,{children:"info"}),"). See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#loglevel",children:["Enum Type ",(0,i.jsx)(t.code,{children:"LogLevel"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The message to be logged."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"globalsheetlog",children:(0,i.jsx)(t.code,{children:"global.sheetLog"})}),"\n",(0,i.jsx)(t.p,{children:"Create a log entry in the log spreadsheet."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"level"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"LogLevel"})}),(0,i.jsxs)(t.td,{children:["The level of the log message (default: ",(0,i.jsx)(t.code,{children:"info"}),"). See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#loglevel",children:["Enum Type ",(0,i.jsx)(t.code,{children:"LogLevel"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The message to be logged."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"message-actions",children:"Message Actions"}),"\n",(0,i.jsx)(t.h3,{id:"messageforward",children:(0,i.jsx)(t.code,{children:"message.forward"})}),"\n",(0,i.jsx)(t.p,{children:"Forwards this message."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"to"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The recipient of the forwarded message."})]})})]}),"\n",(0,i.jsx)(t.h3,{id:"messagemarkread",children:(0,i.jsx)(t.code,{children:"message.markRead"})}),"\n",(0,i.jsx)(t.p,{children:"Marks the message as read."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"messagemarkunread",children:(0,i.jsx)(t.code,{children:"message.markUnread"})}),"\n",(0,i.jsx)(t.p,{children:"Marks the message as unread."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"messagemovetotrash",children:(0,i.jsx)(t.code,{children:"message.moveToTrash"})}),"\n",(0,i.jsx)(t.p,{children:"Moves the message to the trash."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"messagenoop",children:(0,i.jsx)(t.code,{children:"message.noop"})}),"\n",(0,i.jsx)(t.p,{children:"Do nothing (no operation). Used for testing."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"messagestar",children:(0,i.jsx)(t.code,{children:"message.star"})}),"\n",(0,i.jsx)(t.p,{children:"Adds a star to a message."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"messagestorefromurl",children:(0,i.jsx)(t.code,{children:"message.storeFromURL"})}),"\n",(0,i.jsx)(t.p,{children:"Store a document referenced by a URL contained in the message body to GDrive."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"conflictStrategy"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ConflictStrategy"})}),(0,i.jsxs)(t.td,{children:["The strategy to be used in case a file already exists at the desired location. See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#conflictstrategy",children:["Enum Type ",(0,i.jsx)(t.code,{children:"ConflictStrategy"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The description to be attached to the Google Drive file.",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"headers"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Record"})}),(0,i.jsxs)(t.td,{children:["The header to pass to the URL. May be used to pass an authentication token.",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"location"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The location (path + filename) of the Google Drive file.",(0,i.jsx)("br",{}),"For shared folders or Team Drives prepend the location with the folder ID like ",(0,i.jsx)(t.code,{children:"{id:<folderId>}/..."}),".",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"url"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The URL of the document to be stored.",(0,i.jsx)("br",{}),"To extract the URL from the message body use a message body matcher like ",(0,i.jsx)(t.code,{children:'"(?<url>https://...)"'})," and ",(0,i.jsx)(t.code,{children:'"${message.body.match.url}"'})," as the URL value.",(0,i.jsx)("br",{}),"NOTE: Take care to narrow down the regex as good as possible to extract valid URLs.",(0,i.jsx)("br",{}),"Use tools like ",(0,i.jsx)(t.a,{href:"https://regex101.com",children:"regex101.com"})," for testing on example messages."]})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"messagestorepdf",children:(0,i.jsx)(t.code,{children:"message.storePDF"})}),"\n",(0,i.jsx)(t.p,{children:"Generate a PDF document from the message and store it to GDrive."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"conflictStrategy"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ConflictStrategy"})}),(0,i.jsxs)(t.td,{children:["The strategy to be used in case a file already exists at the desired location. See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#conflictstrategy",children:["Enum Type ",(0,i.jsx)(t.code,{children:"ConflictStrategy"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The description to be attached to the Google Drive file.",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"location"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The location (path + filename) of the Google Drive file.",(0,i.jsx)("br",{}),"For shared folders or Team Drives prepend the location with the folder ID like ",(0,i.jsx)(t.code,{children:"{id:<folderId>}/..."}),".",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"skipHeader"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsxs)(t.td,{children:["Skip the header if ",(0,i.jsx)(t.code,{children:"true"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"messageunstar",children:(0,i.jsx)(t.code,{children:"message.unstar"})}),"\n",(0,i.jsx)(t.p,{children:"Removes the star from a message."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h2,{id:"thread-actions",children:"Thread Actions"}),"\n",(0,i.jsx)(t.h3,{id:"threadaddlabel",children:(0,i.jsx)(t.code,{children:"thread.addLabel"})}),"\n",(0,i.jsx)(t.p,{children:"Add a label to the thread."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"name"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The name of the label."})]})})]}),"\n",(0,i.jsx)(t.h3,{id:"threadmarkimportant",children:(0,i.jsx)(t.code,{children:"thread.markImportant"})}),"\n",(0,i.jsx)(t.p,{children:"Mark the thread as important."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmarkread",children:(0,i.jsx)(t.code,{children:"thread.markRead"})}),"\n",(0,i.jsx)(t.p,{children:"Mark the thread as read."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmarkunimportant",children:(0,i.jsx)(t.code,{children:"thread.markUnimportant"})}),"\n",(0,i.jsx)(t.p,{children:"Mark the thread as unimportant."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmarkunread",children:(0,i.jsx)(t.code,{children:"thread.markUnread"})}),"\n",(0,i.jsx)(t.p,{children:"Mark the thread as unread."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmovetoarchive",children:(0,i.jsx)(t.code,{children:"thread.moveToArchive"})}),"\n",(0,i.jsx)(t.p,{children:"Move the thread to the archive."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmovetoinbox",children:(0,i.jsx)(t.code,{children:"thread.moveToInbox"})}),"\n",(0,i.jsx)(t.p,{children:"Move the thread to the inbox."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmovetospam",children:(0,i.jsx)(t.code,{children:"thread.moveToSpam"})}),"\n",(0,i.jsx)(t.p,{children:"Move the thread to spam."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadmovetotrash",children:(0,i.jsx)(t.code,{children:"thread.moveToTrash"})}),"\n",(0,i.jsx)(t.p,{children:"Move the thread to trash."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadnoop",children:(0,i.jsx)(t.code,{children:"thread.noop"})}),"\n",(0,i.jsx)(t.p,{children:"Do nothing (no operation). Used for testing."}),"\n",(0,i.jsx)(t.p,{children:"This action takes no arguments."}),"\n",(0,i.jsx)(t.h3,{id:"threadremovelabel",children:(0,i.jsx)(t.code,{children:"thread.removeLabel"})}),"\n",(0,i.jsx)(t.p,{children:"Remove a label from the thread."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"name"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"The name of the label."})]})})]}),"\n",(0,i.jsx)(t.h3,{id:"threadstorepdf",children:(0,i.jsx)(t.code,{children:"thread.storePDF"})}),"\n",(0,i.jsx)(t.p,{children:"Generate a PDF document for the whole thread and store it to GDrive."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Arguments"}),(0,i.jsx)(t.th,{children:"Type"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"conflictStrategy"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ConflictStrategy"})}),(0,i.jsxs)(t.td,{children:["The strategy to be used in case a file already exists at the desired location. See ",(0,i.jsxs)(t.a,{href:"/gmail-processor/docs/reference/enum-types#conflictstrategy",children:["Enum Type ",(0,i.jsx)(t.code,{children:"ConflictStrategy"})]})," for valid values."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The description to be attached to the Google Drive file.",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"location"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsxs)(t.td,{children:["The location (path + filename) of the Google Drive file.",(0,i.jsx)("br",{}),"For shared folders or Team Drives prepend the location with the folder ID like ",(0,i.jsx)(t.code,{children:"{id:<folderId>}/..."}),".",(0,i.jsx)("br",{}),"Supports ",(0,i.jsx)(t.a,{href:"/gmail-processor/docs/reference/placeholder",children:"placeholder"})," substitution."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"skipHeader"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsxs)(t.td,{children:["Skip the header if ",(0,i.jsx)(t.code,{children:"true"}),"."]})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},272:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var i=s(85893),r=s(11151);const n={id:"enum-types",sidebar_position:32},a="Enum Types",o={id:"reference/enum-types",title:"Enum Types",description:"These are the supported enum types and the possible values that can be used in the configuration.",source:"@site/docs/reference/enum-types.md",sourceDirName:"reference",slug:"/reference/enum-types",permalink:"/gmail-processor/docs/reference/enum-types",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/enum-types.md",tags:[],version:"current",sidebarPosition:32,frontMatter:{id:"enum-types",sidebar_position:32},sidebar:"docsSidebar",previous:{title:"Config Schema",permalink:"/gmail-processor/docs/reference/config-schema"},next:{title:"Actions",permalink:"/gmail-processor/docs/reference/actions"}},d={},c=[{value:"ConflictStrategy",id:"conflictstrategy",level:2},{value:"ContextType",id:"contexttype",level:2},{value:"LogLevel",id:"loglevel",level:2},{value:"MarkProcessedMethod",id:"markprocessedmethod",level:2},{value:"MessageFlag",id:"messageflag",level:2},{value:"MetaInfoType",id:"metainfotype",level:2},{value:"PlaceholderModifierType",id:"placeholdermodifiertype",level:2},{value:"PlaceholderType",id:"placeholdertype",level:2},{value:"ProcessingStage",id:"processingstage",level:2},{value:"ProcessingStatus",id:"processingstatus",level:2},{value:"RunMode",id:"runmode",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"enum-types",children:"Enum Types"}),"\n",(0,i.jsx)(t.p,{children:"These are the supported enum types and the possible values that can be used in the configuration."}),"\n",(0,i.jsx)(t.h2,{id:"conflictstrategy",children:"ConflictStrategy"}),"\n",(0,i.jsx)(t.p,{children:"Strategy that defines how to deal in case of conflicts with already existing files at the desired location in Google Drive."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"backup"})}),(0,i.jsx)(t.td,{children:"Create a backup of the existing file by renaming it."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"error"})}),(0,i.jsx)(t.td,{children:"Terminate processing with an error."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"keep"})}),(0,i.jsx)(t.td,{children:"Keep the existing file and create the new one with the same name."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"replace"})}),(0,i.jsx)(t.td,{children:"Replace the existing file with the new one."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"skip"})}),(0,i.jsx)(t.td,{children:"Skip creating the new file and keep the existing one."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"update"})}),(0,i.jsx)(t.td,{children:"Update the existing file with the contents of the new one (keep it's file ID)."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"contexttype",children:"ContextType"}),"\n",(0,i.jsx)(t.p,{children:"A type of context."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"attachment"})}),(0,i.jsx)(t.td,{children:"A context holding the attachment configuration and information about the currently processed attachment."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"env"})}),(0,i.jsx)(t.td,{children:"A context holding all environment information and references to environment objects."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message"})}),(0,i.jsx)(t.td,{children:"A context holding the message configuration and information about the currently processed message."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"proc"})}),(0,i.jsx)(t.td,{children:"A context holding all processing information like the configuration, integration adapters, action registry and timer."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"thread"})}),(0,i.jsx)(t.td,{children:"A context holding the thread configuration and information about the currently processed thread."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"loglevel",children:"LogLevel"}),"\n",(0,i.jsx)(t.p,{children:"Levels of log messages used for marking and filtering."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"debug"})}),(0,i.jsx)(t.td,{children:"Log level for debugging messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"error"})}),(0,i.jsx)(t.td,{children:"Log level for error messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"info"})}),(0,i.jsx)(t.td,{children:"Log level for info messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"warn"})}),(0,i.jsx)(t.td,{children:"Log level for warning messages."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"markprocessedmethod",children:"MarkProcessedMethod"}),"\n",(0,i.jsx)(t.p,{children:"The method to mark processed threads/messages/attachments."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"add-label"})}),(0,i.jsxs)(t.td,{children:["Adds the label defined in the setting ",(0,i.jsx)(t.code,{children:"markProcessedLabel"})," to each processed thread.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"NOTE:"}),(0,i.jsx)("br",{}),"- Automatically appends the action ",(0,i.jsx)(t.code,{children:"thread.addLabel"})," to the list of global thread actions",(0,i.jsx)("br",{}),"- Automatically appends ",(0,i.jsx)(t.code,{children:"-label:<markProcessedLabel>"})," to the global thread match query config",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"Limitations:"}),(0,i.jsx)("br",{}),"- It cannot handle multiple messages per thread properly."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"custom"})}),(0,i.jsxs)(t.td,{children:["Doesn't do anything to mark threads, messages or attachments as processed and leaves this task to the user.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"NOTE:"}),(0,i.jsx)("br",{}),"- Use actions on the desired level (threads, messages or attachments) to mark them as processed.",(0,i.jsx)("br",{}),"- Take care to exclude them from queries in the thread match config, to prevent re-processing over and over again.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"Limitations:"}),(0,i.jsx)("br",{}),"- Is more complex since you have to take care to"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"mark-read"})}),(0,i.jsxs)(t.td,{children:["Marks processed messages as read, which is more flexible than adding a thread label.",(0,i.jsx)("br",{}),"But it comes at the cost of marking messages as read, which may not be expected.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"NOTE:"}),(0,i.jsx)("br",{}),"- Automatically appends the action ",(0,i.jsx)(t.code,{children:"message.markRead"})," to the list of global message actions",(0,i.jsx)("br",{}),"- Automatically appends ",(0,i.jsx)(t.code,{children:"-is:read"})," to the global thread match query config",(0,i.jsx)("br",{}),"- Automatically adds ",(0,i.jsx)(t.code,{children:'is: ["unread"]'})," to the global message match config",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)(t.strong,{children:"Limitations:"}),(0,i.jsx)("br",{}),"- Since it marks messages as read it may not be applicable in all cases."]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"messageflag",children:"MessageFlag"}),"\n",(0,i.jsx)(t.p,{children:"A flag to match messages with certain properties."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"read"})}),(0,i.jsx)(t.td,{children:"Matches read messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"starred"})}),(0,i.jsx)(t.td,{children:"Matches starred messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"unread"})}),(0,i.jsx)(t.td,{children:"Matches unread messages."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"unstarred"})}),(0,i.jsx)(t.td,{children:"Matches un-starred messages."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"metainfotype",children:"MetaInfoType"}),"\n",(0,i.jsx)(t.p,{children:"The type of meta information used for context substitution placeholders."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"boolean"})}),(0,i.jsxs)(t.td,{children:["Boolean type substituted to ",(0,i.jsx)(t.code,{children:"true"})," or ",(0,i.jsx)(t.code,{children:"false"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"date"})}),(0,i.jsxs)(t.td,{children:["Date/time type. For substitution a format string can be given using ",(0,i.jsx)(t.code,{children:"${<placeholder>:format:<pattern>}"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"number"})}),(0,i.jsx)(t.td,{children:"A numeric data type."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"string"})}),(0,i.jsx)(t.td,{children:"A string data type."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"variable"})}),(0,i.jsx)(t.td,{children:"A custom configuration variable."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"placeholdermodifiertype",children:"PlaceholderModifierType"}),"\n",(0,i.jsx)(t.p,{children:"The modifiers for placeholder expressions."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"format"})}),(0,i.jsxs)(t.td,{children:["Use ",(0,i.jsx)(t.code,{children:"${<key>:format:<format>}"})," to format the date/time using a ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"join"})}),(0,i.jsxs)(t.td,{children:["Use ",(0,i.jsx)(t.code,{children:"${<key>:join:<string>}"})," to join the values of an array (default: ",(0,i.jsx)(t.code,{children:","}),")."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"``"}),(0,i.jsx)(t.td,{children:"No modifier"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"offset-format"})}),(0,i.jsxs)(t.td,{children:["Use ",(0,i.jsx)(t.code,{children:"${<key>:offset-format:<offset>:<format>}"})," to calculate the date/time offset using a ",(0,i.jsx)(t.a,{href:"https://github.com/jkroso/parse-duration#parsestr-formatms",children:"parse-duration format string"})," and then format the resulting date/time using a ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"placeholdertype",children:"PlaceholderType"}),"\n",(0,i.jsx)(t.p,{children:"The type of a placeholder."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"attachment"})}),(0,i.jsx)(t.td,{children:"An attachment placeholder type."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message"})}),(0,i.jsx)(t.td,{children:"A message placeholder type."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"thread"})}),(0,i.jsx)(t.td,{children:"A thread placeholder type."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"processingstage",children:"ProcessingStage"}),"\n",(0,i.jsx)(t.p,{children:"The stage of action processing"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"main"})}),(0,i.jsx)(t.td,{children:"The stage during processing the main object (thread, message, attachment)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"post-main"})}),(0,i.jsx)(t.td,{children:"The stage after processing the main object (thread, message, attachment)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"pre-main"})}),(0,i.jsx)(t.td,{children:"The stage before processing the main object (thread, message, attachment)"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"processingstatus",children:"ProcessingStatus"}),"\n",(0,i.jsx)(t.p,{children:"The result status of processing a config or an action."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"error"})}),(0,i.jsx)(t.td,{children:"An error has occurred."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ok"})}),(0,i.jsx)(t.td,{children:"The processing was successful."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"runmode",children:"RunMode"}),"\n",(0,i.jsx)(t.p,{children:"The runtime mode in which processing takes place."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dangerous"})}),(0,i.jsxs)(t.td,{children:["This run-mode will execute all configured actions including possibly destructive actions like overwriting files or removing threads or messages.",(0,i.jsx)("br",{}),"ATTENTION: Use this only if you know exactly what you're doing and won't complain if something goes wrong!"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dry-run"})}),(0,i.jsx)(t.td,{children:"This run-mode skips execution of writing actions. Use this for testing config changes or library upgrades."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"safe-mode"})}),(0,i.jsx)(t.td,{children:"This run-mode can be used for normal operation but will skip possibly destructive actions like overwriting files or removing threads or messages."})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},16804:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>c});var i=s(85893),r=s(11151);const n={id:"placeholder",sidebar_position:34},a="Placeholder",o={id:"reference/placeholder",title:"Placeholder",description:"The placeholder in the following table are available for substitution in strings, depending on the scope which are defined as follows:",source:"@site/docs/reference/placeholder.md",sourceDirName:"reference",slug:"/reference/placeholder",permalink:"/gmail-processor/docs/reference/placeholder",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/placeholder.md",tags:[],version:"current",sidebarPosition:34,frontMatter:{id:"placeholder",sidebar_position:34},sidebar:"docsSidebar",previous:{title:"Actions",permalink:"/gmail-processor/docs/reference/actions"},next:{title:"Migrating from Gmail2GDrive",permalink:"/gmail-processor/docs/migrating"}},d={},c=[{value:"Environment Placeholder",id:"environment-placeholder",level:2},{value:"Processing Placeholder",id:"processing-placeholder",level:2},{value:"Thread Placeholder",id:"thread-placeholder",level:2},{value:"Message Placeholder",id:"message-placeholder",level:2},{value:"Attachment Placeholder",id:"attachment-placeholder",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"placeholder",children:"Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"The placeholder in the following table are available for substitution in strings, depending on the scope which are defined as follows:"}),"\n",(0,i.jsx)(t.h2,{id:"environment-placeholder",children:"Environment Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"These placeholder are valid globally and can also be used for internal purposes before processing starts (e.g. during adapter initialization)."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.date.now",children:(0,i.jsx)(t.code,{children:"date.now"})})}),(0,i.jsxs)(t.td,{children:["The current timestamp. Use ",(0,i.jsx)(t.code,{children:'"${<key>:format:<format>}"'})," to format the date/time using a custom ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"})," (default: ",(0,i.jsx)(t.code,{children:'"yyyy-MM-dd HH:mm:ss"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"2023-06-26 09:00:00"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.env.runMode",children:(0,i.jsx)(t.code,{children:"env.runMode"})})}),(0,i.jsx)(t.td,{children:"The runMode used for processing."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"safe-mode"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.env.timezone",children:(0,i.jsx)(t.code,{children:"env.timezone"})})}),(0,i.jsx)(t.td,{children:"The timezone used for processing."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"UTC"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.user.email",children:(0,i.jsx)(t.code,{children:"user.email"})})}),(0,i.jsx)(t.td,{children:"The email address of the active user."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"my.email@gmail.com"})})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"processing-placeholder",children:"Processing Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"These placeholder are valid globally during any processing phase."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.timer.startTime",children:(0,i.jsx)(t.code,{children:"timer.startTime"})})}),(0,i.jsxs)(t.td,{children:["The start timestamp of the processing script. Use ",(0,i.jsx)(t.code,{children:'"${<key>:format:<format>}"'})," to format the date/time using a custom ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"})," (default: ",(0,i.jsx)(t.code,{children:'"yyyy-MM-dd HH:mm:ss"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"2023-06-26 09:00:00"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.variables.customVar",children:(0,i.jsx)(t.code,{children:"variables.customVar"})})}),(0,i.jsxs)(t.td,{children:["A custom defined variable. Custom variables defined at ",(0,i.jsx)(t.code,{children:"global.variables"})," to better manage recurring substitution values."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Custom value"})})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"thread-placeholder",children:"Thread Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"These placeholder are valid during processing a GMail thread and matching messages + attachments."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.firstMessageSubject",children:(0,i.jsx)(t.code,{children:"thread.firstMessageSubject"})})}),(0,i.jsxs)(t.td,{children:["The subject of the first message in the thread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getFirstMessageSubject()",children:"GmailThread.getFirstMessageSubject()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Message Subject 1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.hasStarredMessages",children:(0,i.jsx)(t.code,{children:"thread.hasStarredMessages"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread has any starred messages. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#hasStarredMessages()",children:"GmailThread.hasStarredMessages()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.id",children:(0,i.jsx)(t.code,{children:"thread.id"})})}),(0,i.jsxs)(t.td,{children:["The ID of the thread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getId()",children:"GmailThread.getId()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"threadId123"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.index",children:(0,i.jsx)(t.code,{children:"thread.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the thread."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isImportant",children:(0,i.jsx)(t.code,{children:"thread.isImportant"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is marked as important. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isImportant()",children:"GmailThread.isImportant()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isInChats",children:(0,i.jsx)(t.code,{children:"thread.isInChats"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is labeled a chat. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isInChats()",children:"GmailThread.isInChats()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isInInbox",children:(0,i.jsx)(t.code,{children:"thread.isInInbox"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is in the inbox. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isInInbox()",children:"GmailThread.isInInbox()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isInPriorityInbox",children:(0,i.jsx)(t.code,{children:"thread.isInPriorityInbox"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is in the priority inbox. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isInPriorityInbox()",children:"GmailThread.isInPriorityInbox()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isInSpam",children:(0,i.jsx)(t.code,{children:"thread.isInSpam"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is marked as spam. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isInSpam()",children:"GmailThread.isInSpam()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isInTrash",children:(0,i.jsx)(t.code,{children:"thread.isInTrash"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread is marked as spam. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isInTrash()",children:"GmailThread.isInTrash()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.isUnread",children:(0,i.jsx)(t.code,{children:"thread.isUnread"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the thread has any unread messages. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#isUnread()",children:"GmailThread.isUnread()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.labels",children:(0,i.jsx)(t.code,{children:"thread.labels"})})}),(0,i.jsxs)(t.td,{children:["The user-created labels on the thread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getLabels()",children:"GmailThread.getLabels()"})," reference docs."]}),(0,i.jsx)(t.td,{})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.lastMessageDate",children:(0,i.jsx)(t.code,{children:"thread.lastMessageDate"})})}),(0,i.jsxs)(t.td,{children:["The date of the thread's most recent message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getLastMessageDate()",children:"GmailThread.getLastMessageDate()"})," reference docs. Use ",(0,i.jsx)(t.code,{children:'"${<key>:format:<format>}"'})," to format the date/time using a custom ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"})," (default: ",(0,i.jsx)(t.code,{children:'"yyyy-MM-dd HH:mm:ss"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"2019-05-02 07:15:28"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.matched",children:(0,i.jsx)(t.code,{children:"thread.matched"})})}),(0,i.jsx)(t.td,{children:"The overall matching result for all conditions in the match config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.messageCount",children:(0,i.jsx)(t.code,{children:"thread.messageCount"})})}),(0,i.jsxs)(t.td,{children:["The number of messages in the thread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getMessageCount()",children:"GmailThread.getMessageCount()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"2"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.permalink",children:(0,i.jsx)(t.code,{children:"thread.permalink"})})}),(0,i.jsxs)(t.td,{children:["The permalink for the thread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getPermalink()",children:"GmailThread.getPermalink()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"some-permalink-url"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.thread.url",children:(0,i.jsx)(t.code,{children:"thread.url"})})}),(0,i.jsx)(t.td,{children:"The URL of the thread."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://mail.google.com/mail/u/0..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.threadConfig.index",children:(0,i.jsx)(t.code,{children:"threadConfig.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the thead config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"message-placeholder",children:"Message Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"These placeholder are valid during processing a GMail message and matching attachments."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.bcc",children:(0,i.jsx)(t.code,{children:"message.bcc"})})}),(0,i.jsxs)(t.td,{children:["The comma-separated recipients bcc'd on the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getBcc()",children:"GmailMessage.getBcc()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-bcc@example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.body",children:(0,i.jsx)(t.code,{children:"message.body"})})}),(0,i.jsxs)(t.td,{children:["The body of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getBody()",children:"GmailMessage.getBody()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"<p>Message body with contained u..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.body.match.1",children:(0,i.jsx)(t.code,{children:"message.body.match.1"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"(?<url>https://raw\\.githubusercontent\\.com/ahochsteger/gmail-processor/main/src/e2e-test/files/(?<filename>[0-9A-Za-z_-]+\\.txt))"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://raw.githubusercontent.co..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.body.match.2",children:(0,i.jsx)(t.code,{children:"message.body.match.2"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"(?<url>https://raw\\.githubusercontent\\.com/ahochsteger/gmail-processor/main/src/e2e-test/files/(?<filename>[0-9A-Za-z_-]+\\.txt))"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"plain-text-from-repo.txt"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.body.match.filename",children:(0,i.jsx)(t.code,{children:"message.body.match.filename"})})}),(0,i.jsxs)(t.td,{children:["The matching named regex group name as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"(?<url>https://raw\\.githubusercontent\\.com/ahochsteger/gmail-processor/main/src/e2e-test/files/(?<filename>[0-9A-Za-z_-]+\\.txt))"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"plain-text-from-repo.txt"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.body.match.url",children:(0,i.jsx)(t.code,{children:"message.body.match.url"})})}),(0,i.jsxs)(t.td,{children:["The matching named regex group name as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"(?<url>https://raw\\.githubusercontent\\.com/ahochsteger/gmail-processor/main/src/e2e-test/files/(?<filename>[0-9A-Za-z_-]+\\.txt))"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://raw.githubusercontent.co..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.cc",children:(0,i.jsx)(t.code,{children:"message.cc"})})}),(0,i.jsxs)(t.td,{children:["The comma-separated recipients cc'd on the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getCc()",children:"GmailMessage.getCc()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-cc@example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.date",children:(0,i.jsx)(t.code,{children:"message.date"})})}),(0,i.jsxs)(t.td,{children:["The date and time of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getDate()",children:"GmailMessage.getDate()"})," reference docs. Use ",(0,i.jsx)(t.code,{children:'"${<key>:format:<format>}"'})," to format the date/time using a custom ",(0,i.jsx)(t.a,{href:"https://date-fns.org/docs/format",children:"date-fns format strings"})," (default: ",(0,i.jsx)(t.code,{children:'"yyyy-MM-dd HH:mm:ss"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"2019-05-02 07:15:28"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.from",children:(0,i.jsx)(t.code,{children:"message.from"})})}),(0,i.jsxs)(t.td,{children:["The sender of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getFrom()",children:"GmailMessage.getFrom()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-from@example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.from.domain",children:(0,i.jsx)(t.code,{children:"message.from.domain"})})}),(0,i.jsxs)(t.td,{children:["The sender domain of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getFrom()",children:"GmailMessage.getFrom()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.from.match.1",children:(0,i.jsx)(t.code,{children:"message.from.match.1"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"(.+)@example.com"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-from"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.id",children:(0,i.jsx)(t.code,{children:"message.id"})})}),(0,i.jsxs)(t.td,{children:["The ID of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getId()",children:"GmailMessage.getId()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-id"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.index",children:(0,i.jsx)(t.code,{children:"message.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the message."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isDraft",children:(0,i.jsx)(t.code,{children:"message.isDraft"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is a draft. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isDraft()",children:"GmailMessage.isDraft()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isInChats",children:(0,i.jsx)(t.code,{children:"message.isInChats"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is a chat. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isInChats()",children:"GmailMessage.isInChats()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isInInbox",children:(0,i.jsx)(t.code,{children:"message.isInInbox"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is in the inbox. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isInInbox()",children:"GmailMessage.isInInbox()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isInPriorityInbox",children:(0,i.jsx)(t.code,{children:"message.isInPriorityInbox"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if if the message is in the priority inbox. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isInPriorityInbox()",children:"GmailMessage.isInPriorityInbox()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isInTrash",children:(0,i.jsx)(t.code,{children:"message.isInTrash"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is in the trash. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isInTrash()",children:"GmailMessage.isInTrash()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isStarred",children:(0,i.jsx)(t.code,{children:"message.isStarred"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is starred. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isStarred()",children:"GmailMessage.isStarred()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.isUnread",children:(0,i.jsx)(t.code,{children:"message.isUnread"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if the message is unread. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#isUnread()",children:"GmailMessage.isUnread()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.matched",children:(0,i.jsx)(t.code,{children:"message.matched"})})}),(0,i.jsx)(t.td,{children:"The overall matching result for all conditions in the match config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.plainBody",children:(0,i.jsx)(t.code,{children:"message.plainBody"})})}),(0,i.jsxs)(t.td,{children:["The plain body of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getPlainBody()",children:"GmailMessage.getPlainBody()"})," reference docs."]}),(0,i.jsx)(t.td,{})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.replyTo",children:(0,i.jsx)(t.code,{children:"message.replyTo"})})}),(0,i.jsxs)(t.td,{children:["The reply-to address of the message (usually the sender). See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getReplyTo()",children:"GmailMessage.getReplyTo()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-reply-to@example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.subject",children:(0,i.jsx)(t.code,{children:"message.subject"})})}),(0,i.jsxs)(t.td,{children:["The subject of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getSubject()",children:"GmailMessage.getSubject()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Message Subject 1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.subject.match.1",children:(0,i.jsx)(t.code,{children:"message.subject.match.1"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"Message (?<myMatchGroup>.*)"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Subject 1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.subject.match.myMatchGroup",children:(0,i.jsx)(t.code,{children:"message.subject.match.myMatchGroup"})})}),(0,i.jsxs)(t.td,{children:["The matching named regex group name as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"Message (?<myMatchGroup>.*)"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"Subject 1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.to",children:(0,i.jsx)(t.code,{children:"message.to"})})}),(0,i.jsxs)(t.td,{children:["The comma-separated recipients of the message. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-message#getTo()",children:"GmailMessage.getTo()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"message-to@example.com"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.message.url",children:(0,i.jsx)(t.code,{children:"message.url"})})}),(0,i.jsx)(t.td,{children:"The URL of the message."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"https://mail.google.com/mail/u/0..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.messageConfig.index",children:(0,i.jsx)(t.code,{children:"messageConfig.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the message config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"attachment-placeholder",children:"Attachment Placeholder"}),"\n",(0,i.jsx)(t.p,{children:"These placeholder are valid during processing a GMail attachment."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Key"}),(0,i.jsx)(t.th,{children:"Description"}),(0,i.jsx)(t.th,{children:"Example"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.contentType",children:(0,i.jsx)(t.code,{children:"attachment.contentType"})})}),(0,i.jsxs)(t.td,{children:["The content type of the attachment. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-attachment#getContentType()",children:"GmailAttachment.getContentType()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"application/pdf"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.contentType.match.1",children:(0,i.jsx)(t.code,{children:"attachment.contentType.match.1"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"application/(?<appType>.*)"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"pdf"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.contentType.match.appType",children:(0,i.jsx)(t.code,{children:"attachment.contentType.match.appType"})})}),(0,i.jsxs)(t.td,{children:["The matching named regex group name as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"application/(?<appType>.*)"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"pdf"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.hash",children:(0,i.jsx)(t.code,{children:"attachment.hash"})})}),(0,i.jsxs)(t.td,{children:["The SHA1 content hash for the attachment. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-attachment#getHash()",children:"GmailAttachment.getHash()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"aa0b8cc192a5d8d5b5d8ecda24fd0961..."})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.index",children:(0,i.jsx)(t.code,{children:"attachment.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the attachment."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.isGoogleType",children:(0,i.jsx)(t.code,{children:"attachment.isGoogleType"})})}),(0,i.jsxs)(t.td,{children:[(0,i.jsx)(t.code,{children:"true"})," if this attachment is a Google Workspace file (Sheets, Docs, etc.). See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-attachment#isGoogleType()",children:"GmailAttachment.isGoogleType()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"false"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.matched",children:(0,i.jsx)(t.code,{children:"attachment.matched"})})}),(0,i.jsx)(t.td,{children:"The overall matching result for all conditions in the match config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"true"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.name",children:(0,i.jsx)(t.code,{children:"attachment.name"})})}),(0,i.jsxs)(t.td,{children:["The name of the attachment. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-attachment#getName()",children:"GmailAttachment.getName()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"attachment1.pdf"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.name.match.1",children:(0,i.jsx)(t.code,{children:"attachment.name.match.1"})})}),(0,i.jsxs)(t.td,{children:["The matching regex group number as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"attachment(?<attNr>[0-9]+)\\.pdf"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.name.match.attNr",children:(0,i.jsx)(t.code,{children:"attachment.name.match.attNr"})})}),(0,i.jsxs)(t.td,{children:["The matching named regex group name as defined in the match config (e.g.: ",(0,i.jsx)(t.code,{children:'"attachment(?<attNr>[0-9]+)\\.pdf"'}),")."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"1"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachment.size",children:(0,i.jsx)(t.code,{children:"attachment.size"})})}),(0,i.jsxs)(t.td,{children:["The size of the attachment. See ",(0,i.jsx)(t.a,{href:"https://developers.google.com/apps-script/reference/gmail/gmail-attachment#getSize()",children:"GmailAttachment.getSize()"})," reference docs."]}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"18"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)("a",{id:"placeholder.attachmentConfig.index",children:(0,i.jsx)(t.code,{children:"attachmentConfig.index"})})}),(0,i.jsx)(t.td,{children:"The index number (0-based) of the attachment config."}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"0"})})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},89253:(e,t,s)=>{s.d(t,{Z:()=>Te});var i=s(91262),r=s(92949),n=s(85162),a=s(74866),o=s(67294),d=s(49781),c=s.n(d),l=s(72401),h=s(64040),p=s(51144),g=s(37305);s(96579);function m(e,t,s,i){return void 0===s&&(s={}),void 0===i&&(i=[]),i=i.concat([]),Object.keys(e).forEach((r=>{const n=function(e,t){return Array.isArray(e)&&t?e=e.map((e=>t(e))):"object"==typeof e&&t&&(e=t(e)),e}(e[r],s[r]),a=JSON.stringify(n);i.includes(r)||null!==n&&a!==JSON.stringify(t[r])&&"[]"!==a&&"{}"!==a||delete e[r]})),e}let x=function(e){return e.PRE_MAIN="pre-main",e.MAIN="main",e.POST_MAIN="post-main",e}({}),j=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)()],key:"args",value:void 0},{kind:"field",decorators:[(0,h.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,h.C)()],key:"name",value:()=>""},{kind:"field",decorators:[(0,h.C)()],key:"processingStage",value:()=>x.POST_MAIN}]}}));class f extends j{}class u extends j{}class y extends j{}function b(e){var t;return e=m(e,(t={name:"thread.noop"},(0,g.yE)(f,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}function v(e){var t;return e=m(e,(t={name:"message.noop"},(0,g.yE)(u,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}function T(e){var t;return e=m(e,(t={name:"attachment.noop"},(0,g.yE)(y,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}var S=s(4942);class k{constructor(){(0,S.Z)(this,"contentType",".*"),(0,S.Z)(this,"includeAttachments",!0),(0,S.Z)(this,"includeInlineImages",!0),(0,S.Z)(this,"largerThan",-1),(0,S.Z)(this,"name","(.*)"),(0,S.Z)(this,"smallerThan",-1)}}function P(e){return void 0===e&&(e={}),(0,g.yE)(k,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function M(e){return e=m(e,P())}let C=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>y))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,h.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>k))],key:"match",value:()=>new k},{kind:"field",decorators:[(0,h.C)()],key:"name",value:()=>""}]}}));function D(e){return e.match=e.match??P(),e}function A(e){var t;return e=m(e,(void 0===t&&(t={}),(0,g.yE)(C,D(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{actions:T,match:M})}class w{constructor(){(0,S.Z)(this,"body",".*"),(0,S.Z)(this,"from",".*"),(0,S.Z)(this,"is",[]),(0,S.Z)(this,"newerThan",""),(0,S.Z)(this,"olderThan",""),(0,S.Z)(this,"plainBody",".*"),(0,S.Z)(this,"subject",".*"),(0,S.Z)(this,"to",".*")}}function F(e){return void 0===e&&(e={}),(0,g.yE)(w,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function I(e){return e=m(e,F())}let R=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>u))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,h.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>C))],key:"attachments",value:()=>[]},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>w))],key:"match",value:()=>new w},{kind:"field",decorators:[(0,h.C)()],key:"name",value:()=>""}]}}));function G(e){return e.attachments=function(e){for(const t of e)D(t);return e}(e.attachments??[]),e.match=F(e.match),e}function q(e){var t;return e=m(e,(void 0===t&&(t={}),(0,g.yE)(R,G(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{actions:v,attachments:A,match:I})}let L=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)()],key:"firstMessageSubject",value:()=>".*"},{kind:"field",decorators:[(0,h.C)()],key:"labels",value:()=>".*"},{kind:"field",decorators:[(0,h.C)()],key:"maxMessageCount",value:()=>-1},{kind:"field",decorators:[(0,h.C)()],key:"minMessageCount",value:()=>1},{kind:"field",decorators:[(0,h.C)()],key:"query",value:()=>""}]}}));function E(e){return void 0===e&&(e={}),e.query=e.query??z,(0,g.yE)(L,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function U(e){return e=m(e,E())}let $=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>f))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,h.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>R))],key:"messages",value:()=>[]},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>C))],key:"attachments",value:()=>[]},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>L))],key:"match",value:()=>new L},{kind:"field",decorators:[(0,h.C)()],key:"name",value:()=>""}]}}));function O(e){return void 0===e&&(e={}),(0,g.yE)($,V(e),{exposeDefaultValues:!0,exposeUnsetFields:!1})}function V(e){return e.messages=e.messages??[],void 0!==e.attachments&&e.attachments?.length>0&&(e.messages.push({attachments:e.attachments}),delete e.attachments),e.messages=function(e){for(const t of e)G(t);return e}(e.messages),e.match=e.match??E(),e}function N(e){return e=m(e,O(),{actions:b,messages:q,attachments:A,match:U})}const Z="has:attachment -in:trash -in:drafts -in:spam",z=`${Z} newer_than:1d`;class _{constructor(e,t){this.key=e,this.value=t}}let H=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>C))],key:"attachment",value:()=>new C},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>R))],key:"message",value:()=>new R},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>$))],key:"thread",value:()=>new $},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>_))],key:"variables",value:()=>[]}]}}));function B(e){return e.thread=V(e.thread??{}),e.message=G(e.message??{}),e.attachment=D(e.attachment??{}),e}function J(e){var t;return e=m(e,(void 0===t&&(t={}),(0,g.yE)(H,B(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{attachment:A,message:q,thread:N})}let K=function(e){return e.READ="read",e.STARRED="starred",e.UNREAD="unread",e.UNSTARRED="unstarred",e}({});let W=function(e){return e.ADD_THREAD_LABEL="add-label",e.CUSTOM="custom",e.MARK_MESSAGE_READ="mark-read",e}({}),Q=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)()],key:"logSheetLocation",value:()=>""},{kind:"field",decorators:[(0,h.C)()],key:"maxBatchSize",value:()=>10},{kind:"field",decorators:[(0,h.C)()],key:"maxRuntime",value:()=>280},{kind:"field",decorators:[(0,h.C)()],key:"markProcessedLabel",value:()=>""},{kind:"field",decorators:[(0,h.C)()],key:"markProcessedMethod",value:()=>W.MARK_MESSAGE_READ},{kind:"field",decorators:[(0,h.C)()],key:"sleepTimeThreads",value:()=>100},{kind:"field",decorators:[(0,h.C)()],key:"sleepTimeMessages",value:()=>0},{kind:"field",decorators:[(0,h.C)()],key:"sleepTimeAttachments",value:()=>0},{kind:"field",decorators:[(0,h.C)()],key:"timezone",value:()=>"default"}]}}));function X(e){var t;return e=m(e,(void 0===t&&(t={}),(0,g.yE)(Q,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})),{},["markProcessedMethod"])}let Y=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,h.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>H))],key:"global",value:()=>new H},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>$))],key:"threads",value:()=>[]},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>Q))],key:"settings",value:()=>new Q}]}}));(0,l.Z)(null,(function(e,t){return{F:class extends t{constructor(){super(...arguments),e(this)}},d:[{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>R))],key:"messages",value:()=>[]},{kind:"field",decorators:[(0,h.C)(),(0,p.D)((()=>C))],key:"attachments",value:()=>[]}]}}),Y);function ee(e){if(!e.settings?.markProcessedMethod)throw new Error("No markProcessedMethod not set in settings! Make sure to choose from one of the available methods.");const t=(0,g.yE)(Y,function(e){e.threads=e.threads??[],void 0!==e.attachments&&e.attachments?.length>0&&(e.messages=e.messages??[],e.messages.push({attachments:e.attachments}),delete e.attachments);void 0!==e.messages&&e.messages?.length>0&&(e.threads.push({messages:e.messages}),delete e.messages);switch(e.settings=e.settings??{},e.global=B(e.global??{}),e.global.thread=e.global.thread??{},e.global.thread.actions=e.global.thread.actions??[],e.global.thread.match=e.global.thread.match??{},e.global.message=e.global.message??{},e.global.message.actions=e.global.message.actions??[],e.global.message.match=e.global.message.match??{},e.global.attachment=e.global.attachment??{},e.global.attachment.actions=e.global.attachment.actions??[],e.settings.markProcessedMethod){case W.ADD_THREAD_LABEL:e.settings.markProcessedLabel&&(e.global.thread.match.query+=` -label:${e.settings.markProcessedLabel}`,e.global.thread.actions.push({name:"thread.addLabel",args:{name:e.settings.markProcessedLabel},processingStage:x.POST_MAIN}));break;case W.CUSTOM:break;case W.MARK_MESSAGE_READ:e.global.message.match.is=(e.global.message.match.is??[]).concat([K.UNREAD]),e.global.message.actions.push({name:"message.markRead",processingStage:x.POST_MAIN})}return e.threads=function(e){for(const t of e)V(t);return e}(e.threads),e}(e),{exposeDefaultValues:!0,exposeUnsetFields:!1});if(!t?.threads||t?.threads.length<1)throw new Error("No thread configuration found! Make sure there is at least one thread configuration present!");return t}var te=s(98385);let se=function(e){return e.BACKUP="backup",e.ERROR="error",e.KEEP="keep",e.REPLACE="replace",e.SKIP="skip",e.UPDATE="update",e}({});class ie{constructor(){(0,S.Z)(this,"archive",!1),(0,S.Z)(this,"filenameFrom",""),(0,S.Z)(this,"filenameFromRegexp",""),(0,S.Z)(this,"filenameTo",""),(0,S.Z)(this,"filter",""),(0,S.Z)(this,"folder",""),(0,S.Z)(this,"newerThan",""),(0,S.Z)(this,"parentFolderId",""),(0,S.Z)(this,"ruleLabel",""),(0,S.Z)(this,"saveMessagePDF",!1),(0,S.Z)(this,"saveThreadPDF",!1),(0,S.Z)(this,"skipPDFHeader",!1)}}let re=(0,l.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",key:"globalFilter",value:()=>"has:attachment -in:trash -in:drafts -in:spam"},{kind:"field",key:"processedLabel",value:()=>"to-gdrive/processed"},{kind:"field",key:"sleepTime",value:()=>100},{kind:"field",key:"maxRuntime",value:()=>280},{kind:"field",key:"newerThan",value:()=>"2m"},{kind:"field",key:"timezone",value:()=>"UTC"},{kind:"field",decorators:[(0,p.D)((()=>ie))],key:"rules",value:()=>[]}]}}));class ne{static convertDateFormat(e){const t=e.replace(/u/g,"i"),s=RegExp(/[Fa]/).exec(t);if(s)throw new Error(`Conversion of date format not possible - unsupported date format '${s[0]}' in format string '${e}'!`);return t}static sanitizeLocation(e,t){return t&&""!==e&&!e.startsWith("/")&&(e=`/${e}`),t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}static convertFromV1Pattern(e,t){const s=/('([^']+)')?([^']+)('([^']+)')?/g;if(e.match(/^'([^'\n]+)'$/g))e=e.replace(/'/g,"");else{const i=/:oldDateFormat:([^}]+)}/g,r=(e=e.replace(s,`$2\${${t}:oldDateFormat:$3}$5`)).matchAll(i);for(const t of r)if(t.length>1){const s=this.convertDateFormat(t[1]);e=e.replace(/:oldDateFormat:[^}]+}/g,`:format:${s}}`)}}return e=e.replace(/%s/g,"${message.subject}").replace(/%o/g,"${attachment.name}").replace(/%filename/g,"${attachment.name}").replace(/#SUBJECT#/g,"${message.subject}").replace(/#FILE#/g,"${attachment.name}").replace(/%d/g,"${threadConfig.index}")}static getLocationFromRule(e,t){let s;s=e.filenameFromRegexp?"${attachment.name.match.1}":e.filenameTo?this.sanitizeLocation(this.convertFromV1Pattern(e.filenameTo,"message.date"),!1):t;let i="";return i+=e.folder.indexOf("'")>=0?this.convertFromV1Pattern(e.folder,"message.date"):e.folder,i=this.sanitizeLocation(i,!0),e.parentFolderId&&(i=`{id:${e.parentFolderId}}${i}`),`${i}/${s}`}static v1RuleToV2ThreadConfig(e){const t={actions:[],attachments:[],messages:[],match:{}},s={},i={actions:[]};return s.match={},s.actions=[],e.filter&&(t.match.query=e.filter),e.newerThan&&""!=e.newerThan&&(t.match.query=(t.match.query??"")+` newer_than:${e.newerThan}`),e.saveMessagePDF?(i.actions.push({name:"message.storePDF",args:{location:this.getLocationFromRule(e,"${message.subject}.pdf"),conflictStrategy:se.KEEP,skipHeader:!0===e.skipPDFHeader}}),t.messages.push(i)):(e.filenameFromRegexp&&(s.match.name=e.filenameFromRegexp),e.filenameFrom&&e.filenameTo&&(s.match.name=String(e.filenameFrom).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")),s.actions.push({name:"attachment.store",args:{conflictStrategy:se.KEEP,description:"Mail title: ${message.subject}\nMail date: ${message.date}\nMail link: https://mail.google.com/mail/u/0/#inbox/${message.id}",location:this.getLocationFromRule(e,"${attachment.name}")}}),t.attachments.push(s)),e.saveThreadPDF&&t.actions.push({name:"thread.storePDF",args:{location:this.getLocationFromRule(e,"${thread.firstMessageSubject}.pdf"),conflictStrategy:se.KEEP}}),e.ruleLabel&&""!=e.ruleLabel&&t.actions.push({name:"thread.addLabel",args:{name:e.ruleLabel}}),e.archive&&t.actions.push({name:"thread.moveToArchive"}),O(t)}static v1ConfigToV2ConfigJson(e){const t=function(e){void 0===e&&(e={});const t=(0,g.yE)(re,e,{exposeDefaultValues:!0,exposeUnsetFields:!1});if(t.rules.length<1)throw new Error("No rules found - make sure there is at least one rule present!");return t}(e),s=t.rules.map((e=>this.v1RuleToV2ThreadConfig(e)));return{global:{thread:{match:{query:`${t.globalFilter||Z} newer_than:${t.newerThan||"1d"}`}}},settings:{markProcessedMethod:W.ADD_THREAD_LABEL,markProcessedLabel:t.processedLabel,sleepTimeThreads:t.sleepTime,maxRuntime:t.maxRuntime,timezone:t.timezone},threads:s}}static v1ConfigToV2Config(e){return ee(this.v1ConfigToV2ConfigJson(e))}}const ae=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"V1Rule":{"additionalProperties":false,"properties":{"archive":{"default":false,"description":"Archive thread after processing","title":"archive","type":"boolean"},"filenameFrom":{"default":"","description":"Rename matching attachments from the given filename","title":"filenameFrom","type":"string"},"filenameFromRegexp":{"default":"","description":"Rename matching attachments from the given filename regex","title":"filenameFromRegexp","type":"string"},"filenameTo":{"default":"","description":"Rename matching attachments to the given filename","title":"filenameTo","type":"string"},"filter":{"default":"","description":"Search filter for threads","title":"filter","type":"string"},"folder":{"default":"","description":"GDrive folder to store attachments to","title":"folder","type":"string"},"newerThan":{"default":"","description":"Restrict to threads containing messages newer than the given relative date/time","title":"newerThan","type":"string"},"parentFolderId":{"default":"","description":"Parent folder ID to be used (for shared drives)","title":"parentFolderId","type":"string"},"ruleLabel":{"default":"","description":"Add the given label to the processed thread","title":"ruleLabel","type":"string"},"saveMessagePDF":{"default":false,"description":"Save the message to PDF","title":"saveMessagePDF","type":"boolean"},"saveThreadPDF":{"default":false,"description":"Save the thread to PDF","title":"saveThreadPDF","type":"boolean"},"skipPDFHeader":{"default":false,"description":"Skip header for PDF","title":"skipPDFHeader","type":"boolean"}},"required":["filter","folder"],"title":"V1Rule","type":"object"}},"properties":{"globalFilter":{"default":"has:attachment -in:trash -in:drafts -in:spam","description":"Global filter","title":"globalFilter","type":"string"},"maxRuntime":{"default":280,"description":"Maximum script runtime in seconds (google scripts will be killed after 5 minutes)","title":"maxRuntime","type":"number"},"newerThan":{"default":"2m","description":"Only process message newer than (leave empty for no restriction; use d, m and y for day, month and year)","title":"newerThan","type":"string"},"processedLabel":{"default":"to-gdrive/processed","description":"GMail label for processed threads (will be created, if not existing)","title":"processedLabel","type":"string"},"rules":{"default":[],"description":"Processing rules","items":{"$ref":"#/definitions/V1Rule"},"title":"rules","type":"array"},"sleepTime":{"default":100,"description":"Sleep time in milliseconds between processed messages","title":"sleepTime","type":"number"},"timezone":{"default":"UTC","description":"Timezone for date/time operations","title":"timezone","type":"string"}},"required":["maxRuntime","newerThan","processedLabel","rules","sleepTime","timezone"],"type":"object"}');var oe=s(48570),de=s.n(oe);const ce=(0,o.createContext)({state:{fullSchema:{},userSchema:{},jsonPointer:"",data:"{}",schemaRef:void 0,editorRef:void 0,schemaErrors:[],dataErrors:[]},updateState:()=>{}}),le=()=>(0,o.useContext)(ce),he=ce.Provider;var pe=s(1954),ge=s(85893);const me=e=>{let{onConvert:t,onCopyConfig:s,onCopyCode:i,onPaste:r}=e;const n={toolbar:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"8px",backgroundColor:"inherit"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",marginRight:"8px",backgroundColor:"transparent",cursor:"pointer",border:"1px solid",fontWeight:"bold",fontSize:"16px"}};return(0,ge.jsxs)("div",{style:n.toolbar,children:[(0,ge.jsx)("h2",{children:"Config Editor"}),"\xa0",(0,ge.jsx)("div",{style:{flex:1}}),(0,ge.jsx)("button",{style:n.icon,onClick:r,title:"Paste config from clipboard",children:(0,ge.jsx)(pe.JO,{icon:"mdi:content-paste"})}),(0,ge.jsx)("button",{style:n.icon,onClick:t,title:"Convert config (Gmail2GDrive -> GmailProcessor)",children:(0,ge.jsx)(pe.JO,{icon:"mdi:autorenew"})}),(0,ge.jsx)("button",{style:n.icon,onClick:s,title:"Copy just the config to clipboard",children:(0,ge.jsx)(pe.JO,{icon:"mdi:content-copy"})}),(0,ge.jsx)("button",{style:n.icon,onClick:i,title:"Copy as executable JavaScript code to clipboard",children:(0,ge.jsx)(pe.JO,{icon:"fluent:code-js-16-filled"})})]})};var xe=s(42949),je=s(91444),fe=s(74901),ue=s(272),ye=s(16804);function be(){const{state:{fullSchema:e,editorRef:t,data:s},updateState:i}=le(),{colorMode:o}=(0,r.I)();async function d(e){try{const t=JSON.parse(e).rules?ae:te;i({fullSchema:t,data:e})}catch{}}return(0,ge.jsxs)("div",{style:{display:"flex"},children:[(0,ge.jsx)("div",{style:{flex:"50%"},children:(0,ge.jsxs)("div",{style:{boxSizing:"border-box",width:"100%"},children:[(0,ge.jsx)(me,{onConvert:async function(){const e=t.getModel().getValue();try{const t=JSON.parse(e);if(console.log(`Keys: ${Object.keys(t)}`),!Object.keys(t).includes("rules"))return void je.Am.success("Not a Gmail2GDrive config!");const s=m(ne.v1ConfigToV2ConfigJson(t),ee({settings:{markProcessedMethod:W.MARK_MESSAGE_READ},threads:[{}]}),{attachments:A,global:J,messages:q,settings:X,threads:N});d(JSON.stringify(s,null,2))}catch(s){return void je.Am.success(`Conversion error: ${s}`)}},onCopyConfig:async function(){const e=t.getModel().getValue()||"";await navigator.clipboard.writeText(e),je.Am.success("Config copied")},onCopyCode:async function(){const e=`const config = ${(t.getModel().getValue()||"").trim()}\n    \nfunction run() {\n  GmailProcessorLib.run(config, "dry-run")\n}\n`;await navigator.clipboard.writeText(e),je.Am.success("Code copied")},onPaste:async function(){d(await navigator.clipboard.readText()),je.Am.success("Config pasted")}}),(0,ge.jsx)(c(),{value:s,schema:e,theme:"dark"===o?"vs-dark":"vs",editorDidMount:e=>{i({editorRef:e})},height:"80vh"},JSON.stringify(e))]})}),(0,ge.jsx)("div",{style:{flex:"50%",height:"85vh"},children:(0,ge.jsx)("div",{style:{overflow:"auto",height:"100%"},children:(0,ge.jsxs)(a.default,{children:[(0,ge.jsx)(n.default,{value:"schema",label:"Schema",default:!0,children:(0,ge.jsx)(de(),{schema:e},JSON.stringify(e))}),(0,ge.jsx)(n.default,{value:"actions",label:"Actions",children:(0,ge.jsx)(fe.default,{})}),(0,ge.jsx)(n.default,{value:"enum-types",label:"Enum Types",children:(0,ge.jsx)(ue.default,{})}),(0,ge.jsx)(n.default,{value:"placeholder",label:"Placeholder",children:(0,ge.jsx)(ye.default,{})})]})})})]})}function ve(){const e=te,[t,s]=o.useState({jsonPointer:"",data:JSON.stringify(xe,null,2),userSchema:e,fullSchema:e});return(0,ge.jsx)(he,{value:{state:t,updateState:function(e){s((t=>({...t,...e})))}},children:(0,ge.jsx)(be,{})})}function Te(){return(0,ge.jsx)(i.default,{fallback:(0,ge.jsx)("div",{children:"Loading..."}),children:()=>(0,ge.jsx)(ve,{})})}},63346:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var i=s(91262),r=s(44763),n=s(7372),a=(s(67294),s(91444)),o=(s(45761),s(85893));function d(){return(0,o.jsx)(r.default,{fallback:e=>{let{error:t,tryAgain:s}=e;return(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["Playground component crashed because of error: ",t.message,"."]}),(0,o.jsx)("button",{onClick:s,children:"Try Again!"})]})},children:(0,o.jsx)(i.default,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>{const e=s(89253).Z;return(0,o.jsx)(e,{})}})})}function c(){return(0,o.jsxs)(n.Z,{title:"Playground",description:"Playground of docusaurus-json-schema-plugin",children:[(0,o.jsx)(d,{}),(0,o.jsx)(a.Ix,{theme:"dark",position:a.Am.POSITION.BOTTOM_RIGHT,autoClose:3e3})]})}},42949:e=>{e.exports=JSON.parse('{"description":"This is a getting started example configuration.","settings":{"markProcessedMethod":"add-label","markProcessedLabel":"GmailProcessor/processed"},"global":{},"threads":[{"match":{"query":"from:some.email@gmail.com"},"attachments":[{"match":{"name":"^my-file-.+.pdf$"},"actions":[{"name":"thread.storePDF","args":{"location":"folder/${message.date:format:yyyy-MM-dd}/${thread.firstMessageSubject}.pdf","conflictStrategy":"keep"}}]}]}]}')},98385:e=>{e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"AttachmentConfig":{"additionalProperties":false,"description":"Represents a config to handle a certain GMail attachment","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/AttachmentContextActionConfigType"},"title":"actions","type":"array"},"description":{"default":"","description":"The description of the attachment handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/AttachmentMatchConfig","description":"Specifies which attachments match for further processing","title":"match"},"name":{"default":"","description":"The unique name of the attachment config (will be generated if not set)","title":"name","type":"string"}},"title":"AttachmentConfig","type":"object"},"AttachmentContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"attachment.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"}},"required":["conflictStrategy","location"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"attachment.store","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"to":{"description":"The recipient of the forwarded message.","title":"to","type":"string"}},"required":["to"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"message.forward","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStoreFromUrlArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storeFromURL","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStorePDFArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.star","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.unstar","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"AttachmentContextActionConfigType"},"AttachmentMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail attachment","properties":{"contentType":{"default":".*","description":"A RegEx matching the content type of the attachment","title":"contentType","type":"string"},"includeAttachments":{"default":true,"description":"Should regular attachments be included in attachment processing (default: true)","title":"includeAttachments","type":"boolean"},"includeInlineImages":{"default":true,"description":"Should inline images be included in attachment processing (default: true)","title":"includeInlineImages","type":"boolean"},"largerThan":{"default":-1,"description":"Only include attachments larger than the given size in bytes.\\nSet to `-1` to ignore it.","title":"largerThan","type":"number"},"name":{"default":"(.*)","description":"A RegEx matching the name of the attachment","title":"name","type":"string"},"smallerThan":{"default":-1,"description":"Only include attachments smaller than the given size in bytes.\\nSet to `-1` to ignore it.","title":"smallerThan","type":"number"}},"title":"AttachmentMatchConfig","type":"object"},"ConflictStrategy":{"description":"Strategy that defines how to deal in case of conflicts with already existing files at the desired location in Google Drive.","enum":["backup","error","keep","replace","skip","update"],"title":"ConflictStrategy","type":"string"},"GlobalConfig":{"additionalProperties":false,"description":"The global configuration defines matching and actions for all threads, messages or attachments.","properties":{"attachment":{"$ref":"#/definitions/AttachmentConfig","description":"The global attachment config affecting each attachment.","title":"attachment"},"message":{"$ref":"#/definitions/MessageConfig","description":"The global message config affecting each message.","title":"message"},"thread":{"$ref":"#/definitions/ThreadConfig","description":"The list of global thread affecting each thread.","title":"thread"},"variables":{"default":[],"description":"A list of variable entries to be used in substitutions to simplify configurations.","items":{"$ref":"#/definitions/VariableEntry"},"title":"variables","type":"array"}},"title":"GlobalConfig","type":"object"},"MessageActionStoreFromUrlArgs":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"headers":{"$ref":"#/definitions/Record<string,string>","description":"The header to pass to the URL. May be used to pass an authentication token.\\nSupports placeholder substitution.","title":"headers"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"url":{"description":"The URL of the document to be stored.\\nTo extract the URL from the message body use a message body matcher like `\\"(?<url>https://...)\\"` and `\\"${message.body.match.url}\\"` as the URL value.\\nNOTE: Take care to narrow down the regex as good as possible to extract valid URLs.\\nUse tools like [regex101.com](https://regex101.com) for testing on example messages.","title":"url","type":"string"}},"required":["conflictStrategy","location","url"],"title":"MessageActionStoreFromUrlArgs","type":"object"},"MessageActionStorePDFArgs":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"skipHeader":{"description":"Skip the header if `true`.","title":"skipHeader","type":"boolean"}},"required":["conflictStrategy","location"],"title":"MessageActionStorePDFArgs","type":"object"},"MessageConfig":{"additionalProperties":false,"description":"Represents a config to handle a certain GMail message","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/MessageContextActionConfigType"},"title":"actions","type":"array"},"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the message handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/MessageMatchConfig","description":"Specifies which attachments match for further processing","title":"match"},"name":{"default":"","description":"The unique name of the message config (will be generated if not set)","title":"name","type":"string"}},"title":"MessageConfig","type":"object"},"MessageContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"to":{"description":"The recipient of the forwarded message.","title":"to","type":"string"}},"required":["to"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"message.forward","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStoreFromUrlArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storeFromURL","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStorePDFArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.star","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.unstar","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"MessageContextActionConfigType"},"MessageFlag":{"description":"A flag to match messages with certain properties.","enum":["read","starred","unread","unstarred"],"title":"MessageFlag","type":"string"},"MessageMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail message","properties":{"body":{"default":".*","description":"A RegEx matching the body of messages.\\nUse `(?s)` at the beginning of the regex if you want `.` to match a newline.","title":"body","type":"string"},"from":{"default":".*","description":"A RegEx matching the sender email address of messages","title":"from","type":"string"},"is":{"default":[],"description":"A list of properties matching messages should have","items":{"$ref":"#/definitions/MessageFlag"},"title":"is","type":"array"},"newerThan":{"default":"","description":"An RFC 3339 date/time format matching messages older than the given date/time","title":"newerThan","type":"string"},"olderThan":{"default":"","description":"An RFC 3339 date/time format matching messages older than the given date/time","title":"olderThan","type":"string"},"plainBody":{"default":".*","description":"A RegEx matching the plain body of messages.\\nUse `(?s)` at the beginning of the regex if you want `.` to match a newline.","title":"plainBody","type":"string"},"subject":{"default":".*","description":"A RegEx matching the subject of messages","title":"subject","type":"string"},"to":{"default":".*","description":"A RegEx matching the recipient email address of messages","title":"to","type":"string"}},"title":"MessageMatchConfig","type":"object"},"Record<string,string>":{"additionalProperties":false,"title":"Record<string,string>","type":"object"},"SettingsConfig":{"additionalProperties":false,"description":"Represents a settings config that affect the way GmailProcessor works.","properties":{"logSheetLocation":{"default":"","description":"Path of the spreadsheet log file. Enables logging to a spreadsheet if not empty.\\nExample: `GmailProcessor/logsheet-${date.now:format:yyyy-MM}`","title":"logSheetLocation","type":"string"},"markProcessedLabel":{"default":"","description":"The label to be added to processed GMail threads (only for markProcessedMode=\\"label\\").","title":"markProcessedLabel","type":"string"},"markProcessedMethod":{"description":"The method to mark processed threads/messages.","enum":["add-label","custom","mark-read"],"title":"markProcessedMethod","type":"string"},"maxBatchSize":{"default":10,"description":"The maximum batch size of threads to process in a single run to respect Google processing limits","title":"maxBatchSize","type":"number"},"maxRuntime":{"default":280,"description":"The maximum runtime in seconds for a single run to respect Google processing limits","title":"maxRuntime","type":"number"},"sleepTimeAttachments":{"default":0,"description":"The sleep time in milliseconds between processing each attachment","title":"sleepTimeAttachments","type":"number"},"sleepTimeMessages":{"default":0,"description":"The sleep time in milliseconds between processing each message","title":"sleepTimeMessages","type":"number"},"sleepTimeThreads":{"default":100,"description":"The sleep time in milliseconds between processing each thread","title":"sleepTimeThreads","type":"number"},"timezone":{"default":"default","description":"The timezone to be used for date/time operations.\\nValue `default` uses the <a href=\\"https://developers.google.com/apps-script/reference/base/session#getscripttimezone\\">script timezone</a>.","title":"timezone","type":"string"}},"title":"SettingsConfig","type":"object"},"ThreadActionArgsStorePDF":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"skipHeader":{"description":"Skip the header if `true`.","title":"skipHeader","type":"boolean"}},"required":["conflictStrategy","location"],"title":"ThreadActionArgsStorePDF","type":"object"},"ThreadConfig":{"additionalProperties":false,"description":"Represents a config handle a certain GMail thread","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/ThreadContextActionConfigType"},"title":"actions","type":"array"},"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the thread handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/ThreadMatchConfig","description":"Specifies which threads match for further processing","title":"match"},"messages":{"default":[],"description":"The list of handler that define the way nested messages or attachments are processed","items":{"$ref":"#/definitions/MessageConfig"},"title":"messages","type":"array"},"name":{"default":"","description":"The unique name of the thread config (will be generated if not set)","title":"name","type":"string"}},"title":"ThreadConfig","type":"object"},"ThreadContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"ThreadContextActionConfigType"},"ThreadMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail thread","properties":{"firstMessageSubject":{"default":".*","description":"The regex to match `firstMessageSubject`","title":"firstMessageSubject","type":"string"},"labels":{"default":".*","description":"The regex to match at least one label","title":"labels","type":"string"},"maxMessageCount":{"default":-1,"description":"The maximum number of messages a matching thread is allowed to have.\\nSet to `-1` to ignore it.","title":"maxMessageCount","type":"number"},"minMessageCount":{"default":1,"description":"The minimum number of messages a matching thread must have.\\nSet to `-1` to ignore it.","title":"minMessageCount","type":"number"},"query":{"default":"","description":"The GMail search query additional to the global query to find threads to be processed.\\nSee [Search operators you can use with Gmail](https://support.google.com/mail/answer/7190?hl=en) for more information.","title":"query","type":"string"}},"title":"ThreadMatchConfig","type":"object"},"VariableEntry":{"additionalProperties":false,"description":"A variable entry available for string substitution (using `${variables.<varName>}`)","properties":{"key":{"title":"key","type":"string"},"value":{"title":"value","type":"string"}},"required":["key","value"],"title":"VariableEntry","type":"object"}},"description":"The input configuration for Gmail Processor.","properties":{"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the GmailProcessor config","title":"description","type":"string"},"global":{"$ref":"#/definitions/GlobalConfig","description":"The global configuration that defines matching for all threads as well as actions for all threads, messages or attachments.","title":"global"},"messages":{"default":[],"description":"The list of handler that define the way nested messages or attachments are processed","items":{"$ref":"#/definitions/MessageConfig"},"title":"messages","type":"array"},"settings":{"$ref":"#/definitions/SettingsConfig","description":"Represents a settings config that affect the way GmailProcessor works.","title":"settings"},"threads":{"default":[],"description":"The list of handler that define the way nested threads, messages or attachments are processed","items":{"$ref":"#/definitions/ThreadConfig"},"title":"threads","type":"array"}},"type":"object"}')}}]);