"use strict";(self.webpackChunkdocs_new=self.webpackChunkdocs_new||[]).push([[342],{1861:(e,t,i)=>{i.d(t,{Z:()=>ue});var s=i(1262),n=i(2949),r=i(7294),a=i(9781),o=i.n(a),p=i(2401),l=i(4040),c=i(1144),d=i(7305);i(8706);function g(e,t,i,s){return void 0===i&&(i={}),void 0===s&&(s=[]),s=s.concat([]),Object.keys(e).forEach((n=>{const r=function(e,t){return Array.isArray(e)&&t?e=e.map((e=>t(e))):"object"==typeof e&&t&&(e=t(e)),e}(e[n],i[n]),a=JSON.stringify(r);s.includes(n)||null!==r&&a!==JSON.stringify(t[n])&&"[]"!==a&&"{}"!==a||delete e[n]})),e}let m=function(e){return e.PRE_MAIN="pre-main",e.MAIN="main",e.POST_MAIN="post-main",e}({}),f=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)()],key:"args",value:void 0},{kind:"field",decorators:[(0,l.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,l.C)()],key:"name",value:()=>""},{kind:"field",decorators:[(0,l.C)()],key:"processingStage",value:()=>m.POST_MAIN}]}}));class h extends f{}class u extends f{}class y extends f{}function b(e){var t;return e=g(e,(t={name:"thread.noop"},(0,d.yE)(h,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}function T(e){var t;return e=g(e,(t={name:"message.noop"},(0,d.yE)(u,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}function S(e){var t;return e=g(e,(t={name:"attachment.noop"},(0,d.yE)(y,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})))}var v=i(4942);class k{constructor(){(0,v.Z)(this,"contentType",".*"),(0,v.Z)(this,"includeAttachments",!0),(0,v.Z)(this,"includeInlineImages",!0),(0,v.Z)(this,"largerThan",-1),(0,v.Z)(this,"name","(.*)"),(0,v.Z)(this,"smallerThan",-1)}}function P(e){return void 0===e&&(e={}),(0,d.yE)(k,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function C(e){return e=g(e,P())}let x=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>y))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,l.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>k))],key:"match",value:()=>new k},{kind:"field",decorators:[(0,l.C)()],key:"name",value:()=>""}]}}));function j(e){return e.match=e.match??P(),e}function A(e){var t;return e=g(e,(void 0===t&&(t={}),(0,d.yE)(x,j(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{actions:S,match:C})}class D{constructor(){(0,v.Z)(this,"body",".*"),(0,v.Z)(this,"from",".*"),(0,v.Z)(this,"is",[]),(0,v.Z)(this,"newerThan",""),(0,v.Z)(this,"olderThan",""),(0,v.Z)(this,"plainBody",".*"),(0,v.Z)(this,"subject",".*"),(0,v.Z)(this,"to",".*")}}function q(e){return void 0===e&&(e={}),(0,d.yE)(D,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function E(e){return e=g(e,q())}let F=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>u))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,l.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>x))],key:"attachments",value:()=>[]},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>D))],key:"match",value:()=>new D},{kind:"field",decorators:[(0,l.C)()],key:"name",value:()=>""}]}}));function M(e){return e.attachments=function(e){for(const t of e)j(t);return e}(e.attachments??[]),e.match=q(e.match),e}function w(e){var t;return e=g(e,(void 0===t&&(t={}),(0,d.yE)(F,M(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{actions:T,attachments:A,match:E})}let R=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)()],key:"firstMessageSubject",value:()=>".*"},{kind:"field",decorators:[(0,l.C)()],key:"labels",value:()=>".*"},{kind:"field",decorators:[(0,l.C)()],key:"maxMessageCount",value:()=>-1},{kind:"field",decorators:[(0,l.C)()],key:"minMessageCount",value:()=>1},{kind:"field",decorators:[(0,l.C)()],key:"query",value:()=>""}]}}));function $(e){return void 0===e&&(e={}),e.query=e.query??V,(0,d.yE)(R,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function L(e){return e=g(e,$())}let U=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>h))],key:"actions",value:()=>[]},{kind:"field",decorators:[(0,l.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>F))],key:"messages",value:()=>[]},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>x))],key:"attachments",value:()=>[]},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>R))],key:"match",value:()=>new R},{kind:"field",decorators:[(0,l.C)()],key:"name",value:()=>""}]}}));function G(e){return void 0===e&&(e={}),(0,d.yE)(U,I(e),{exposeDefaultValues:!0,exposeUnsetFields:!1})}function I(e){return e.messages=e.messages??[],void 0!==e.attachments&&e.attachments?.length>0&&(e.messages.push({attachments:e.attachments}),delete e.attachments),e.messages=function(e){for(const t of e)M(t);return e}(e.messages),e.match=e.match??$(),e}function Z(e){return e=g(e,G(),{actions:b,messages:w,attachments:A,match:L})}const O="has:attachment -in:trash -in:drafts -in:spam",V=`${O} newer_than:1d`;class N{constructor(e,t){this.key=e,this.value=t}}let _=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>x))],key:"attachment",value:()=>new x},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>F))],key:"message",value:()=>new F},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>U))],key:"thread",value:()=>new U},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>N))],key:"variables",value:()=>[]}]}}));function z(e){return e.thread=I(e.thread??{}),e.message=M(e.message??{}),e.attachment=j(e.attachment??{}),e}function J(e){var t;return e=g(e,(void 0===t&&(t={}),(0,d.yE)(_,z(t),{exposeDefaultValues:!0,exposeUnsetFields:!1})),{attachment:A,message:w,thread:Z})}let H=function(e){return e.READ="read",e.STARRED="starred",e.UNREAD="unread",e.UNSTARRED="unstarred",e}({});let B=function(e){return e.ADD_THREAD_LABEL="add-label",e.CUSTOM="custom",e.MARK_MESSAGE_READ="mark-read",e}({}),K=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)()],key:"logSheetLocation",value:()=>""},{kind:"field",decorators:[(0,l.C)()],key:"maxBatchSize",value:()=>10},{kind:"field",decorators:[(0,l.C)()],key:"maxRuntime",value:()=>280},{kind:"field",decorators:[(0,l.C)()],key:"markProcessedLabel",value:()=>""},{kind:"field",decorators:[(0,l.C)()],key:"markProcessedMethod",value:()=>B.MARK_MESSAGE_READ},{kind:"field",decorators:[(0,l.C)()],key:"sleepTimeThreads",value:()=>100},{kind:"field",decorators:[(0,l.C)()],key:"sleepTimeMessages",value:()=>0},{kind:"field",decorators:[(0,l.C)()],key:"sleepTimeAttachments",value:()=>0},{kind:"field",decorators:[(0,l.C)()],key:"timezone",value:()=>"default"}]}}));function W(e){var t;return e=g(e,(void 0===t&&(t={}),(0,d.yE)(K,t,{exposeDefaultValues:!0,exposeUnsetFields:!1})),{},["markProcessedMethod"])}let Q=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",decorators:[(0,l.C)()],key:"description",value:()=>""},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>_))],key:"global",value:()=>new _},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>U))],key:"threads",value:()=>[]},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>K))],key:"settings",value:()=>new K}]}}));(0,p.Z)(null,(function(e,t){return{F:class extends t{constructor(){super(...arguments),e(this)}},d:[{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>F))],key:"messages",value:()=>[]},{kind:"field",decorators:[(0,l.C)(),(0,c.D)((()=>x))],key:"attachments",value:()=>[]}]}}),Q);function X(e){if(!e.settings?.markProcessedMethod)throw new Error("No markProcessedMethod not set in settings! Make sure to choose from one of the available methods.");const t=(0,d.yE)(Q,function(e){e.threads=e.threads??[],void 0!==e.attachments&&e.attachments?.length>0&&(e.messages=e.messages??[],e.messages.push({attachments:e.attachments}),delete e.attachments);void 0!==e.messages&&e.messages?.length>0&&(e.threads.push({messages:e.messages}),delete e.messages);switch(e.settings=e.settings??{},e.global=z(e.global??{}),e.global.thread=e.global.thread??{},e.global.thread.actions=e.global.thread.actions??[],e.global.thread.match=e.global.thread.match??{},e.global.message=e.global.message??{},e.global.message.actions=e.global.message.actions??[],e.global.message.match=e.global.message.match??{},e.global.attachment=e.global.attachment??{},e.global.attachment.actions=e.global.attachment.actions??[],e.settings.markProcessedMethod){case B.ADD_THREAD_LABEL:e.settings.markProcessedLabel&&(e.global.thread.match.query+=` -label:${e.settings.markProcessedLabel}`,e.global.thread.actions.push({name:"thread.addLabel",args:{name:e.settings.markProcessedLabel},processingStage:m.POST_MAIN}));break;case B.CUSTOM:break;case B.MARK_MESSAGE_READ:e.global.message.match.is=(e.global.message.match.is??[]).concat([H.UNREAD]),e.global.message.actions.push({name:"message.markRead",processingStage:m.POST_MAIN})}return e.threads=function(e){for(const t of e)I(t);return e}(e.threads),e}(e),{exposeDefaultValues:!0,exposeUnsetFields:!1});if(!t?.threads||t?.threads.length<1)throw new Error("No thread configuration found! Make sure there is at least one thread configuration present!");return t}var Y=i(8385);let ee=function(e){return e.BACKUP="backup",e.ERROR="error",e.KEEP="keep",e.REPLACE="replace",e.SKIP="skip",e.UPDATE="update",e}({});class te{constructor(){(0,v.Z)(this,"archive",!1),(0,v.Z)(this,"filenameFrom",""),(0,v.Z)(this,"filenameFromRegexp",""),(0,v.Z)(this,"filenameTo",""),(0,v.Z)(this,"filter",""),(0,v.Z)(this,"folder",""),(0,v.Z)(this,"newerThan",""),(0,v.Z)(this,"parentFolderId",""),(0,v.Z)(this,"ruleLabel",""),(0,v.Z)(this,"saveMessagePDF",!1),(0,v.Z)(this,"saveThreadPDF",!1),(0,v.Z)(this,"skipPDFHeader",!1)}}let ie=(0,p.Z)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",key:"globalFilter",value:()=>"has:attachment -in:trash -in:drafts -in:spam"},{kind:"field",key:"processedLabel",value:()=>"to-gdrive/processed"},{kind:"field",key:"sleepTime",value:()=>100},{kind:"field",key:"maxRuntime",value:()=>280},{kind:"field",key:"newerThan",value:()=>"2m"},{kind:"field",key:"timezone",value:()=>"UTC"},{kind:"field",decorators:[(0,c.D)((()=>te))],key:"rules",value:()=>[]}]}}));class se{static convertDateFormat(e){const t=e.replace(/u/g,"i"),i=RegExp(/[Fa]/).exec(t);if(i)throw new Error(`Conversion of date format not possible - unsupported date format '${i[0]}' in format string '${e}'!`);return t}static sanitizeLocation(e,t){return t&&""!==e&&!e.startsWith("/")&&(e=`/${e}`),t&&e.endsWith("/")&&(e=e.slice(0,-1)),e}static convertFromV1Pattern(e,t){const i=/('([^']+)')?([^']+)('([^']+)')?/g;if(e.match(/^'([^'\n]+)'$/g))e=e.replace(/'/g,"");else{const s=/:oldDateFormat:([^}]+)}/g,n=(e=e.replace(i,`$2\${${t}:oldDateFormat:$3}$5`)).matchAll(s);for(const t of n)if(t.length>1){const i=this.convertDateFormat(t[1]);e=e.replace(/:oldDateFormat:[^}]+}/g,`:format:${i}}`)}}return e=e.replace(/%s/g,"${message.subject}").replace(/%o/g,"${attachment.name}").replace(/%filename/g,"${attachment.name}").replace(/#SUBJECT#/g,"${message.subject}").replace(/#FILE#/g,"${attachment.name}").replace(/%d/g,"${threadConfig.index}")}static getLocationFromRule(e,t){let i;i=e.filenameFromRegexp?"${attachment.name.match.1}":e.filenameTo?this.sanitizeLocation(this.convertFromV1Pattern(e.filenameTo,"message.date"),!1):t;let s="";return s+=e.folder.indexOf("'")>=0?this.convertFromV1Pattern(e.folder,"message.date"):e.folder,s=this.sanitizeLocation(s,!0),e.parentFolderId&&(s=`{id:${e.parentFolderId}}${s}`),`${s}/${i}`}static v1RuleToV2ThreadConfig(e){const t={actions:[],attachments:[],messages:[],match:{}},i={},s={actions:[]};return i.match={},i.actions=[],e.filter&&(t.match.query=e.filter),e.newerThan&&""!=e.newerThan&&(t.match.query=(t.match.query??"")+` newer_than:${e.newerThan}`),e.saveMessagePDF?(s.actions.push({name:"message.storePDF",args:{location:this.getLocationFromRule(e,"${message.subject}.pdf"),conflictStrategy:ee.KEEP,skipHeader:!0===e.skipPDFHeader}}),t.messages.push(s)):(e.filenameFromRegexp&&(i.match.name=e.filenameFromRegexp),e.filenameFrom&&e.filenameTo&&(i.match.name=String(e.filenameFrom).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")),i.actions.push({name:"attachment.store",args:{conflictStrategy:ee.KEEP,description:"Mail title: ${message.subject}\nMail date: ${message.date}\nMail link: https://mail.google.com/mail/u/0/#inbox/${message.id}",location:this.getLocationFromRule(e,"${attachment.name}")}}),t.attachments.push(i)),e.saveThreadPDF&&t.actions.push({name:"thread.storePDF",args:{location:this.getLocationFromRule(e,"${thread.firstMessageSubject}.pdf"),conflictStrategy:ee.KEEP}}),e.ruleLabel&&""!=e.ruleLabel&&t.actions.push({name:"thread.addLabel",args:{name:e.ruleLabel}}),e.archive&&t.actions.push({name:"thread.moveToArchive"}),G(t)}static v1ConfigToV2ConfigJson(e){const t=function(e){void 0===e&&(e={});const t=(0,d.yE)(ie,e,{exposeDefaultValues:!0,exposeUnsetFields:!1});if(t.rules.length<1)throw new Error("No rules found - make sure there is at least one rule present!");return t}(e),i=t.rules.map((e=>this.v1RuleToV2ThreadConfig(e)));return{global:{thread:{match:{query:`${t.globalFilter||O} newer_than:${t.newerThan||"1d"}`}}},settings:{markProcessedMethod:B.ADD_THREAD_LABEL,markProcessedLabel:t.processedLabel,sleepTimeThreads:t.sleepTime,maxRuntime:t.maxRuntime,timezone:t.timezone},threads:i}}static v1ConfigToV2Config(e){return X(this.v1ConfigToV2ConfigJson(e))}}const ne=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"V1Rule":{"additionalProperties":false,"properties":{"archive":{"default":false,"description":"Archive thread after processing","title":"archive","type":"boolean"},"filenameFrom":{"default":"","description":"Rename matching attachments from the given filename","title":"filenameFrom","type":"string"},"filenameFromRegexp":{"default":"","description":"Rename matching attachments from the given filename regex","title":"filenameFromRegexp","type":"string"},"filenameTo":{"default":"","description":"Rename matching attachments to the given filename","title":"filenameTo","type":"string"},"filter":{"default":"","description":"Search filter for threads","title":"filter","type":"string"},"folder":{"default":"","description":"GDrive folder to store attachments to","title":"folder","type":"string"},"newerThan":{"default":"","description":"Restrict to threads containing messages newer than the given relative date/time","title":"newerThan","type":"string"},"parentFolderId":{"default":"","description":"Parent folder ID to be used (for shared drives)","title":"parentFolderId","type":"string"},"ruleLabel":{"default":"","description":"Add the given label to the processed thread","title":"ruleLabel","type":"string"},"saveMessagePDF":{"default":false,"description":"Save the message to PDF","title":"saveMessagePDF","type":"boolean"},"saveThreadPDF":{"default":false,"description":"Save the thread to PDF","title":"saveThreadPDF","type":"boolean"},"skipPDFHeader":{"default":false,"description":"Skip header for PDF","title":"skipPDFHeader","type":"boolean"}},"required":["filter","folder"],"title":"V1Rule","type":"object"}},"properties":{"globalFilter":{"default":"has:attachment -in:trash -in:drafts -in:spam","description":"Global filter","title":"globalFilter","type":"string"},"maxRuntime":{"default":280,"description":"Maximum script runtime in seconds (google scripts will be killed after 5 minutes)","title":"maxRuntime","type":"number"},"newerThan":{"default":"2m","description":"Only process message newer than (leave empty for no restriction; use d, m and y for day, month and year)","title":"newerThan","type":"string"},"processedLabel":{"default":"to-gdrive/processed","description":"GMail label for processed threads (will be created, if not existing)","title":"processedLabel","type":"string"},"rules":{"default":[],"description":"Processing rules","items":{"$ref":"#/definitions/V1Rule"},"title":"rules","type":"array"},"sleepTime":{"default":100,"description":"Sleep time in milliseconds between processed messages","title":"sleepTime","type":"number"},"timezone":{"default":"UTC","description":"Timezone for date/time operations","title":"timezone","type":"string"}},"required":["maxRuntime","newerThan","processedLabel","rules","sleepTime","timezone"],"type":"object"}');var re=i(8570),ae=i.n(re);const oe=(0,r.createContext)({state:{fullSchema:{},userSchema:{},jsonPointer:"",data:"{}",schemaRef:void 0,editorRef:void 0,schemaErrors:[],dataErrors:[]},updateState:()=>{}}),pe=()=>(0,r.useContext)(oe),le=oe.Provider,ce=e=>{let{onConvert:t,onCopyConfig:i,onCopyCode:s,onPaste:n}=e;const a={toolbar:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"8px",backgroundColor:"inherit"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",marginRight:"8px",backgroundColor:"transparent",cursor:"pointer",border:"1px solid",fontWeight:"bold",fontSize:"16px"}};return r.createElement("div",{style:a.toolbar},r.createElement("h1",null,"Config JSON"),"\xa0",r.createElement("div",{style:{flex:1}}),r.createElement("button",{style:a.icon,onClick:n,title:"Paste config from clipboard"},"\ud83d\udccb"),r.createElement("button",{style:a.icon,onClick:t,title:"Convert config (Gmail2GDrive -> GmailProcessor)"},"\ud83d\udd04"),r.createElement("button",{style:a.icon,onClick:i,title:"Copy just the config to clipboard"},"\ud83d\uddd0"),r.createElement("button",{style:a.icon,onClick:s,title:"Copy the full executable code to clipboard"},"\ud83d\ude80"))},de=e=>{let{onToggleSchema:t}=e;const i={toolbar:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"8px",backgroundColor:"inherit"},icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",marginRight:"8px",backgroundColor:"transparent",cursor:"pointer",border:"1px solid",fontWeight:"bold"}};return r.createElement("div",{style:i.toolbar},r.createElement("h1",null,"Schema"),"\xa0",r.createElement("div",{style:{flex:1}}),r.createElement("button",{style:i.icon,onClick:t,title:"Toggle config schema version"},"\ud83c\udf00"))};var ge=i(5678),me=i(360);function fe(){const{state:{fullSchema:e,editorRef:t,data:i},updateState:s}=pe(),{colorMode:a}=(0,n.I)();async function p(e){const t=JSON.parse(e).rules?ne:Y;s({fullSchema:t,data:e})}return r.createElement("div",{style:{display:"flex"}},r.createElement("div",{style:{flex:"50%",height:"800px"}},r.createElement("div",{style:{boxSizing:"border-box",width:"100%"}},r.createElement(ce,{onConvert:async function(){const e=t.getModel().getValue();try{const t=JSON.parse(e);if(console.log(`Keys: ${Object.keys(t)}`),!Object.keys(t).includes("rules"))return void ge.Am.success("Not a Gmail2GDrive config!");const i=g(se.v1ConfigToV2ConfigJson(t),X({settings:{markProcessedMethod:B.MARK_MESSAGE_READ},threads:[{}]}),{attachments:A,global:J,messages:w,settings:W,threads:Z});p(JSON.stringify(i,null,2))}catch(i){return void ge.Am.success(`Conversion error: ${i}`)}},onCopyConfig:async function(){const e=t.getModel().getValue()||"";await navigator.clipboard.writeText(e),ge.Am.success("Config copied")},onCopyCode:async function(){const e=`const config = ${(t.getModel().getValue()||"").trim()}\n    \nfunction run() {\n  GmailProcessorLib.run(config, "dry-run")\n}\n`;await navigator.clipboard.writeText(e),ge.Am.success("Code copied")},onPaste:async function(){p(await navigator.clipboard.readText()),ge.Am.success("Config pasted")}}),r.createElement(o(),{value:i,schema:e,theme:"dark"===a?"vs-dark":"vs",editorDidMount:e=>{s({editorRef:e})},height:"70vh",key:JSON.stringify(e)}))),r.createElement("div",{style:{flex:"50%",height:"800px"}},r.createElement(de,{onToggleSchema:async function(){const t=e===Y?ne:Y;s({fullSchema:t,userSchema:t})}}),r.createElement("div",{style:{overflow:"auto",height:"800px"}},r.createElement(ae(),{schema:e,key:JSON.stringify(e)}))))}function he(){const e=Y,[t,i]=r.useState({jsonPointer:"",data:JSON.stringify(me,null,2),userSchema:e,fullSchema:e});return r.createElement(le,{value:{state:t,updateState:function(e){i((t=>({...t,...e})))}}},r.createElement(fe,null))}function ue(){return r.createElement(s.default,{fallback:r.createElement("div",null,"Loading...")},(()=>r.createElement(he,null)))}},3346:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var s=i(1262),n=i(4763),r=i(179),a=i(7294),o=i(5678);i(5761);function p(){return a.createElement(n.default,{fallback:e=>{let{error:t,tryAgain:i}=e;return a.createElement("div",null,a.createElement("p",null,"Playground component crashed because of error: ",t.message,"."),a.createElement("button",{onClick:i},"Try Again!"))}},a.createElement(s.default,{fallback:a.createElement("div",null,"Loading...")},(()=>{const e=i(1861).Z;return a.createElement(e,null)})))}function l(){return a.createElement(r.Z,{title:"Playground",description:"Playground of docusaurus-json-schema-plugin"},a.createElement(p,null),a.createElement(o.Ix,{position:o.Am.POSITION.BOTTOM_RIGHT,autoClose:3e3}))}},360:e=>{e.exports=JSON.parse('{"description":"This is a getting started example configuration.","settings":{"markProcessedMethod":"add-label","markProcessedLabel":"GmailProcessor/processed"},"global":{},"threads":[{"match":{"query":"from:some.email@gmail.com"},"attachments":[{"match":{"name":"^my-file-.+.pdf$"},"actions":[{"name":"thread.storePDF","args":{"location":"folder/${message.date:format:yyyy-MM-dd}/${thread.firstMessageSubject}.pdf","conflictStrategy":"keep"}}]}]}]}')},8385:e=>{e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","additionalProperties":false,"definitions":{"AttachmentConfig":{"additionalProperties":false,"description":"Represents a config to handle a certain GMail attachment","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/AttachmentContextActionConfigType"},"title":"actions","type":"array"},"description":{"default":"","description":"The description of the attachment handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/AttachmentMatchConfig","description":"Specifies which attachments match for further processing","title":"match"},"name":{"default":"","description":"The unique name of the attachment config (will be generated if not set)","title":"name","type":"string"}},"title":"AttachmentConfig","type":"object"},"AttachmentContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"attachment.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"}},"required":["conflictStrategy","location"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"attachment.store","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"to":{"description":"The recipient of the forwarded message.","title":"to","type":"string"}},"required":["to"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"message.forward","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStoreFromUrlArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storeFromURL","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStorePDFArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.star","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.unstar","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"AttachmentContextActionConfigType"},"AttachmentMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail attachment","properties":{"contentType":{"default":".*","description":"A RegEx matching the content type of the attachment","title":"contentType","type":"string"},"includeAttachments":{"default":true,"description":"Should regular attachments be included in attachment processing (default: true)","title":"includeAttachments","type":"boolean"},"includeInlineImages":{"default":true,"description":"Should inline images be included in attachment processing (default: true)","title":"includeInlineImages","type":"boolean"},"largerThan":{"default":-1,"description":"Only include attachments larger than the given size in bytes.\\nSet to `-1` to ignore it.","title":"largerThan","type":"number"},"name":{"default":"(.*)","description":"A RegEx matching the name of the attachment","title":"name","type":"string"},"smallerThan":{"default":-1,"description":"Only include attachments smaller than the given size in bytes.\\nSet to `-1` to ignore it.","title":"smallerThan","type":"number"}},"title":"AttachmentMatchConfig","type":"object"},"ConflictStrategy":{"description":"Strategy that defines how to deal in case of conflicts with already existing files at the desired location in Google Drive.","enum":["backup","error","keep","replace","skip","update"],"title":"ConflictStrategy","type":"string"},"GlobalConfig":{"additionalProperties":false,"description":"The global configuration defines matching and actions for all threads, messages or attachments.","properties":{"attachment":{"$ref":"#/definitions/AttachmentConfig","description":"The global attachment config affecting each attachment.","title":"attachment"},"message":{"$ref":"#/definitions/MessageConfig","description":"The global message config affecting each message.","title":"message"},"thread":{"$ref":"#/definitions/ThreadConfig","description":"The list of global thread affecting each thread.","title":"thread"},"variables":{"default":[],"description":"A list of variable entries to be used in substitutions to simplify configurations.","items":{"$ref":"#/definitions/VariableEntry"},"title":"variables","type":"array"}},"title":"GlobalConfig","type":"object"},"MessageActionStoreFromUrlArgs":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"headers":{"$ref":"#/definitions/Record<string,string>","description":"The header to pass to the URL. May be used to pass an authentication token.\\nSupports placeholder substitution.","title":"headers"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"url":{"description":"The URL of the document to be stored.\\nTo extract the URL from the message body use a message body matcher like `\\"(?<url>https://...)\\"` and `\\"${message.body.match.url}\\"` as the URL value.\\nNOTE: Take care to narrow down the regex as good as possible to extract valid URLs.\\nUse tools like [regex101.com](https://regex101.com) for testing on example messages.","title":"url","type":"string"}},"required":["conflictStrategy","location","url"],"title":"MessageActionStoreFromUrlArgs","type":"object"},"MessageActionStorePDFArgs":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"skipHeader":{"description":"Skip the header if `true`.","title":"skipHeader","type":"boolean"}},"required":["conflictStrategy","location"],"title":"MessageActionStorePDFArgs","type":"object"},"MessageConfig":{"additionalProperties":false,"description":"Represents a config to handle a certain GMail message","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/MessageContextActionConfigType"},"title":"actions","type":"array"},"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the message handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/MessageMatchConfig","description":"Specifies which attachments match for further processing","title":"match"},"name":{"default":"","description":"The unique name of the message config (will be generated if not set)","title":"name","type":"string"}},"title":"MessageConfig","type":"object"},"MessageContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"to":{"description":"The recipient of the forwarded message.","title":"to","type":"string"}},"required":["to"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"message.forward","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStoreFromUrlArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storeFromURL","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/MessageActionStorePDFArgs","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.star","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"message.unstar","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"MessageContextActionConfigType"},"MessageFlag":{"description":"A flag to match messages with certain properties.","enum":["read","starred","unread","unstarred"],"title":"MessageFlag","type":"string"},"MessageMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail message","properties":{"body":{"default":".*","description":"A RegEx matching the body of messages.\\nUse `(?s)` at the beginning of the regex if you want `.` to match a newline.","title":"body","type":"string"},"from":{"default":".*","description":"A RegEx matching the sender email address of messages","title":"from","type":"string"},"is":{"default":[],"description":"A list of properties matching messages should have","items":{"$ref":"#/definitions/MessageFlag"},"title":"is","type":"array"},"newerThan":{"default":"","description":"An RFC 3339 date/time format matching messages older than the given date/time","title":"newerThan","type":"string"},"olderThan":{"default":"","description":"An RFC 3339 date/time format matching messages older than the given date/time","title":"olderThan","type":"string"},"plainBody":{"default":".*","description":"A RegEx matching the plain body of messages.\\nUse `(?s)` at the beginning of the regex if you want `.` to match a newline.","title":"plainBody","type":"string"},"subject":{"default":".*","description":"A RegEx matching the subject of messages","title":"subject","type":"string"},"to":{"default":".*","description":"A RegEx matching the recipient email address of messages","title":"to","type":"string"}},"title":"MessageMatchConfig","type":"object"},"Record<string,string>":{"additionalProperties":false,"title":"Record<string,string>","type":"object"},"SettingsConfig":{"additionalProperties":false,"description":"Represents a settings config that affect the way GmailProcessor works.","properties":{"logSheetLocation":{"default":"","description":"Path of the spreadsheet log file. Enables logging to a spreadsheet if not empty.\\nExample: `GmailProcessor/logsheet-${date.now:format:yyyy-MM}`","title":"logSheetLocation","type":"string"},"markProcessedLabel":{"default":"","description":"The label to be added to processed GMail threads (only for markProcessedMode=\\"label\\").","title":"markProcessedLabel","type":"string"},"markProcessedMethod":{"description":"The method to mark processed threads/messages.","enum":["add-label","custom","mark-read"],"title":"markProcessedMethod","type":"string"},"maxBatchSize":{"default":10,"description":"The maximum batch size of threads to process in a single run to respect Google processing limits","title":"maxBatchSize","type":"number"},"maxRuntime":{"default":280,"description":"The maximum runtime in seconds for a single run to respect Google processing limits","title":"maxRuntime","type":"number"},"sleepTimeAttachments":{"default":0,"description":"The sleep time in milliseconds between processing each attachment","title":"sleepTimeAttachments","type":"number"},"sleepTimeMessages":{"default":0,"description":"The sleep time in milliseconds between processing each message","title":"sleepTimeMessages","type":"number"},"sleepTimeThreads":{"default":100,"description":"The sleep time in milliseconds between processing each thread","title":"sleepTimeThreads","type":"number"},"timezone":{"default":"default","description":"The timezone to be used for date/time operations.\\nValue `default` uses the <a href=\\"https://developers.google.com/apps-script/reference/base/session#getscripttimezone\\">script timezone</a>.","title":"timezone","type":"string"}},"title":"SettingsConfig","type":"object"},"ThreadActionArgsStorePDF":{"additionalProperties":false,"properties":{"conflictStrategy":{"$ref":"#/definitions/ConflictStrategy","description":"The strategy to be used in case a file already exists at the desired location.","title":"conflictStrategy"},"description":{"description":"The description to be attached to the Google Drive file.\\nSupports placeholder substitution.","title":"description","type":"string"},"location":{"description":"The location (path + filename) of the Google Drive file.\\nFor shared folders or Team Drives prepend the location with the folder ID like `{id:<folderId>}/...`.\\nSupports placeholder substitution.","title":"location","type":"string"},"skipHeader":{"description":"Skip the header if `true`.","title":"skipHeader","type":"boolean"}},"required":["conflictStrategy","location"],"title":"ThreadActionArgsStorePDF","type":"object"},"ThreadConfig":{"additionalProperties":false,"description":"Represents a config handle a certain GMail thread","properties":{"actions":{"default":[],"description":"The list actions to be executed for their respective handler scopes","items":{"$ref":"#/definitions/ThreadContextActionConfigType"},"title":"actions","type":"array"},"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the thread handler config","title":"description","type":"string"},"match":{"$ref":"#/definitions/ThreadMatchConfig","description":"Specifies which threads match for further processing","title":"match"},"messages":{"default":[],"description":"The list of handler that define the way nested messages or attachments are processed","items":{"$ref":"#/definitions/MessageConfig"},"title":"messages","type":"array"},"name":{"default":"","description":"The unique name of the thread config (will be generated if not set)","title":"name","type":"string"}},"title":"ThreadConfig","type":"object"},"ThreadContextActionConfigType":{"anyOf":[{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"global.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.log","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.panic","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"level":{"description":"The level of the log message (default: `info`).","enum":["debug","error","info","warn"],"title":"level","type":"string"},"message":{"description":"The message to be logged.","title":"message","type":"string"}},"required":["message"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"global.sheetLog","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.noop","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.addLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"additionalProperties":false,"properties":{"name":{"description":"The name of the label.","title":"name","type":"string"}},"required":["name"],"title":"args","type":"object"},"description":{"title":"description","type":"string"},"name":{"const":"thread.removeLabel","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"$ref":"#/definitions/ThreadActionArgsStorePDF","title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.storePDF","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markImportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markRead","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnimportant","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.markUnread","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToArchive","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToInbox","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToSpam","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"},{"additionalProperties":false,"properties":{"args":{"title":"args"},"description":{"title":"description","type":"string"},"name":{"const":"thread.moveToTrash","title":"name","type":"string"},"processingStage":{"description":"The stage of action processing","enum":["main","post-main","pre-main"],"title":"processingStage","type":"string"}},"required":["name"],"type":"object"}],"title":"ThreadContextActionConfigType"},"ThreadMatchConfig":{"additionalProperties":false,"description":"Represents a config to match a certain GMail thread","properties":{"firstMessageSubject":{"default":".*","description":"The regex to match `firstMessageSubject`","title":"firstMessageSubject","type":"string"},"labels":{"default":".*","description":"The regex to match at least one label","title":"labels","type":"string"},"maxMessageCount":{"default":-1,"description":"The maximum number of messages a matching thread is allowed to have.\\nSet to `-1` to ignore it.","title":"maxMessageCount","type":"number"},"minMessageCount":{"default":1,"description":"The minimum number of messages a matching thread must have.\\nSet to `-1` to ignore it.","title":"minMessageCount","type":"number"},"query":{"default":"","description":"The GMail search query additional to the global query to find threads to be processed.\\nSee [Search operators you can use with Gmail](https://support.google.com/mail/answer/7190?hl=en) for more information.","title":"query","type":"string"}},"title":"ThreadMatchConfig","type":"object"},"VariableEntry":{"additionalProperties":false,"description":"A variable entry available for string substitution (using `${variables.<varName>}`)","properties":{"key":{"title":"key","type":"string"},"value":{"title":"value","type":"string"}},"required":["key","value"],"title":"VariableEntry","type":"object"}},"description":"The input configuration for Gmail Processor.","properties":{"attachments":{"default":[],"description":"The list of handler that define the way attachments are processed","items":{"$ref":"#/definitions/AttachmentConfig"},"title":"attachments","type":"array"},"description":{"default":"","description":"The description of the GmailProcessor config","title":"description","type":"string"},"global":{"$ref":"#/definitions/GlobalConfig","description":"The global configuration that defines matching for all threads as well as actions for all threads, messages or attachments.","title":"global"},"messages":{"default":[],"description":"The list of handler that define the way nested messages or attachments are processed","items":{"$ref":"#/definitions/MessageConfig"},"title":"messages","type":"array"},"settings":{"$ref":"#/definitions/SettingsConfig","description":"Represents a settings config that affect the way GmailProcessor works.","title":"settings"},"threads":{"default":[],"description":"The list of handler that define the way nested threads, messages or attachments are processed","items":{"$ref":"#/definitions/ThreadConfig"},"title":"threads","type":"array"}},"type":"object"}')}}]);