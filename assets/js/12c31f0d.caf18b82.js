"use strict";(self.webpackChunkgmail_processor_docs=self.webpackChunkgmail_processor_docs||[]).push([[6009],{16407:(e,t,i)=>{i.d(t,{$b:()=>V,GJ:()=>_,Pn:()=>F,bR:()=>O,c1:()=>P,we:()=>N});var n,a,r,s,o,l,c,d,u,m,g,h,f,p,b,x,A,j,v,y,w,L,M,S,T=i(54167),R=i(793),D=i(99842),z=i(68420),k=i(45136),C=i(55698),E=(i(95508),i(97158));let V=function(e){return e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error",e}({}),F=function(e){return e.ADD_THREAD_LABEL="add-label",e.CUSTOM="custom",e.MARK_MESSAGE_READ="mark-read",e}({});class U{constructor(){(0,D.A)(this,"name",""),(0,D.A)(this,"title",""),(0,D.A)(this,"value",void 0),(0,D.A)(this,"ctxValues",{})}}let O=function(e){return e.NONE="none",e.AUTO="auto",e.ALL="all",e}({}),_=(n=(0,z.v)(),a=(0,z.v)(),r=(0,z.v)(),s=(0,k.Z)(()=>U),o=(0,z.v)(),l=(0,z.v)(),c=(0,z.v)(),d=(0,z.v)(),u=(0,z.v)(),m=(0,z.v)(),g=(0,z.v)(),h=(0,z.v)(),f=class{constructor(){(0,D.A)(this,"defaultTimestampFormat","yyyy-MM-dd HH:mm:ss"),(0,D.A)(this,"defaultArrayJoinSeparator",","),(0,T.A)(this,"logSheetLocation",p,this),(0,T.A)(this,"logFields",b,this),(0,T.A)(this,"logConfig",x,this),(0,D.A)(this,"logLevel",V.INFO),(0,D.A)(this,"logSensitiveRedactionMode",O.AUTO),(0,D.A)(this,"logSheetTracing",!1),(0,T.A)(this,"maxBatchSize",A,this),(0,T.A)(this,"maxRuntime",j,this),(0,T.A)(this,"markProcessedLabel",v,this),(0,T.A)(this,"markProcessedMethod",y,this),(0,T.A)(this,"sleepTimeThreads",w,this),(0,T.A)(this,"sleepTimeMessages",L,this),(0,T.A)(this,"sleepTimeAttachments",M,this),(0,T.A)(this,"timezone",S,this)}},p=(0,R.A)(f.prototype,"logSheetLocation",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=(0,R.A)(f.prototype,"logFields",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["log.timestamp","log.level","log.location","log.message","object.id","object.date","object.subject","object.from","object.url","attachment.name","attachment.size","attachment.contentType","stored.location","stored.url","stored.downloadUrl"]}}),x=(0,R.A)(f.prototype,"logConfig",[r,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:"log.timestamp",title:"Timestamp",value:"{{date.now|formatDate('yyyy-MM-dd HH:mm:ss.SSS')}}"},{name:"log.level",title:"Log Level"},{name:"log.message",title:"Log Message"},{name:"context.type",title:"Context Type"},{name:"object.id",title:"ID",ctxValues:{attachment:"{{attachment.hash}}",message:"{{message.id}}",thread:"{{thread.id}}"}},{name:"object.url",title:"GMail URL",ctxValues:{attachment:"{{message.url}}",message:"{{message.url}}",thread:"{{thread.url}}"}},{name:"object.date",title:"Message Date",ctxValues:{attachment:"{{message.date}}",message:"{{message.date}}",thread:"{{thread.lastMessageDate}}"}},{name:"object.subject",title:"Subject",ctxValues:{attachment:"{{message.subject}}",message:"{{message.subject}}",thread:"{{thread.firstMessageSubject}}"}},{name:"object.from",title:"From",ctxValues:{attachment:"{{message.from}}",message:"{{message.from}}"}},{name:"attachment.name",title:"Attachment Name"},{name:"attachment.contentType",title:"Content Type"},{name:"attachment.size",title:"Attachment Size"},{name:"stored.location",title:"Stored Location",ctxValues:{attachment:"{{attachment.stored.location}}"}},{name:"stored.url",title:"Stored URL",ctxValues:{attachment:"{{attachment.stored.url}}"}},{name:"stored.downloadUrl",title:"Download URL",ctxValues:{attachment:"{{attachment.stored.downloadUrl}}"}}]}}),A=(0,R.A)(f.prototype,"maxBatchSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=(0,R.A)(f.prototype,"maxRuntime",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 280}}),v=(0,R.A)(f.prototype,"markProcessedLabel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=(0,R.A)(f.prototype,"markProcessedMethod",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.MARK_MESSAGE_READ}}),w=(0,R.A)(f.prototype,"sleepTimeThreads",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),L=(0,R.A)(f.prototype,"sleepTimeMessages",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=(0,R.A)(f.prototype,"sleepTimeAttachments",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=(0,R.A)(f.prototype,"timezone",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),f);function N(e={}){return(0,C.bj)(_,e,{exposeDefaultValues:!0,exposeUnsetFields:!1})}function P(e){return e=(0,E.I)(e,N(),{},["markProcessedMethod"])}},28453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>o});var n=i(96540);const a={},r=n.createContext(a);function s(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(r.Provider,{value:t},e.children)}},46846:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"reference/logging","title":"Logging","description":"Default Log Fields","source":"@site/docs/reference/logging.mdx","sourceDirName":"reference","slug":"/reference/logging","permalink":"/gmail-processor/docs/reference/logging","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reference/logging.mdx","tags":[],"version":"current","sidebarPosition":35,"frontMatter":{"id":"logging","sidebar_position":35},"sidebar":"docsSidebar","previous":{"title":"Placeholder","permalink":"/gmail-processor/docs/reference/placeholder"},"next":{"title":"Migrating from Gmail2GDrive","permalink":"/gmail-processor/docs/migrating"}}');var a=i(74848),r=i(28453),s=i(16407);const o={id:"logging",sidebar_position:35},l="Logging",c={},d=[{value:"Default Log Fields",id:"default-log-fields",level:2},{value:"Default Log Config",id:"default-log-config",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"logging",children:"Logging"})}),"\n","\n",(0,a.jsx)(t.h2,{id:"default-log-fields",children:"Default Log Fields"}),"\n",(0,a.jsxs)(t.p,{children:["Unlise otherwise configured using ",(0,a.jsx)(t.code,{children:"logFields"})," in the ",(0,a.jsx)(t.code,{children:"settings"})," configuration the following fields are used for logging to a log sheet:"]}),"\n",(0,a.jsx)("ul",{children:(0,s.we)({}).logFields.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("tt",{children:e})},e))}),"\n",(0,a.jsx)(t.h2,{id:"default-log-config",children:"Default Log Config"}),"\n",(0,a.jsxs)(t.p,{children:["This table shows the log fields that are available by default.\nAdditional custom fields can be added using ",(0,a.jsx)(t.code,{children:"logConfig"})," in the ",(0,a.jsx)(t.code,{children:"settings"})," configuration."]}),"\n",(0,a.jsxs)("table",{children:[(0,a.jsxs)("thead",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Title"}),(0,a.jsx)("th",{children:"Value"})]}),(0,a.jsx)("tbody",{children:(0,s.we)({}).logConfig.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>(e.value=e.value||e.ctxValues?e.value:`\${${e.name}}`,(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("tt",{children:e.name})}),(0,a.jsx)("td",{children:e.title}),(0,a.jsx)("td",{children:e.ctxValues?(0,a.jsx)("ul",{children:Object.entries(e.ctxValues).map(e=>(0,a.jsxs)("li",{children:[e[0],": ",(0,a.jsx)("tt",{children:e[1]})]},e[0]))}):(0,a.jsx)("tt",{children:e.value})})]},e.name)))})]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},97158:(e,t,i)=>{function n(e,t,i={},n=[]){return n=n.concat([]),Object.keys(e).forEach(a=>{const r=function(e,t){return Array.isArray(e)&&t?e=e.map(e=>t(e)):"object"==typeof e&&t&&(e=t(e)),e}(e[a],i[a]),s=JSON.stringify(r);n.includes(a)||null!==r&&s!==JSON.stringify(t[a])&&"[]"!==s&&"{}"!==s||delete e[a]}),e}i.d(t,{I:()=>n})}}]);