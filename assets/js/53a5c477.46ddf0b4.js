"use strict";(self.webpackChunkgmail_processor_docs=self.webpackChunkgmail_processor_docs||[]).push([[3866],{7126:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>m});var a=t(4848),i=t(8453),r=t(4153),n=t(5696);const o={id:"simple",title:"Simple"},l=void 0,c={id:"examples/basics/simple",title:"Simple",description:"\x3c!--",source:"@site/docs/examples/basics/simple.mdx",sourceDirName:"examples/basics",slug:"/examples/basics/simple",permalink:"/gmail-processor/docs/examples/basics/simple",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/examples/basics/simple.mdx",tags:[],version:"current",frontMatter:{id:"simple",title:"Simple"},sidebar:"docsSidebar",previous:{title:"Basics",permalink:"/gmail-processor/docs/examples/basics/"},next:{title:"Features",permalink:"/gmail-processor/docs/examples/features/"}},d={},m=[];function u(e){return(0,a.jsx)(n.A,{path:"src/examples/basics/simple.ts",example:r.B3})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(u,{...e})}):u()}},5696:(e,s,t)=>{t.d(s,{A:()=>u});var a=t(8774),i=t(1432),r=t(9365),n=t(1470),o=(t(6540),t(4848));const l="https://github.com/ahochsteger/gmail-processor/blob/main/src/examples",c="https://github.com/ahochsteger/gmail-processor/issues",d="https://github.com/ahochsteger/gmail-processor/pull";function m(e,s,t){let a=[];return t&&t.length>0&&(a=[(0,o.jsxs)("span",{children:[" (",e,": "]},`${e}-0`)].concat(t?.map(((e,t,a)=>(0,o.jsxs)("span",{children:[(0,o.jsxs)("a",{href:`${s}/${e}`,children:["#",e]}),t<a.length-1?",":""]},e)))),a.push((0,o.jsx)("span",{children:")"}))),a}function u(e){let{example:s}=e;const t=s.info,u=`${s.info.category}/${s.info.name}.ts`,p=s.config,f=`${t.name}.ts`;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:t.description}),(0,o.jsxs)("p",{children:["\ud83d\udc49 Edit this example in the ",(0,o.jsx)(a.A,{href:`/playground?example=${t.name}`,children:"playground"}),"v1"===t.schemaVersion?" and automatically migrate it to the v2 format using the convert button":"","."]}),(0,o.jsxs)(n.default,{children:[(0,o.jsx)(r.default,{value:"config",label:"Config",default:!0,children:(0,o.jsx)(i.default,{language:"jsx",showLineNumbers:!0,children:JSON.stringify(p,null,2)})}),(0,o.jsx)(r.default,{value:"script",label:"Script",children:(0,o.jsx)(i.default,{language:"jsx",showLineNumbers:!0,children:"v1"===t.schemaVersion?'function migrateConfig() {"{"}\n  const oldConfig = {JSON.stringify(config,null,2)}\n  const migratedConfig = GmailProcessorLib.convertV1Config(oldConfig)\n  console.log(JSON.stringify(migratedConfig, null, 2))\n}':`function run() {\n  const config = ${JSON.stringify(p,null,2).split("\n").map((e=>`  ${e}`)).join("\n").trim()}\n  GmailProcessorLib.run(config, GmailProcessorLib.RunMode.DRY_RUN)\n}`})})]}),(0,o.jsxs)("p",{children:["Source: ",(0,o.jsx)("a",{href:`${l}/${u}`,children:f}),m("Issues",c,s.info.issues),m("PRs",d,s.info.pullRequests)]})]})}},4153:(e,s,t)=>{t.d(s,{B3:()=>o});t(2744);var a=t(2485),i=t(6407);const r={name:"simple",title:"Simple",description:"This is a simple example to start with Gmail Processor.",category:"basics",generate:["docs","test-e2e","test-spec"],schemaVersion:"v2"},n={description:r.description,settings:{markProcessedMethod:i.Pn.ADD_THREAD_LABEL,markProcessedLabel:"GmailProcessor/processed"},global:{thread:{match:{query:"has:attachment -in:trash -in:drafts -in:spam after:${date.now:date::yyyy-MM-dd}"}}},threads:[{match:{query:"from:some.email@gmail.com"},messages:[{attachments:[{match:{name:"^invoice\\.pdf$"},actions:[{name:"attachment.store",args:{location:"folder/${message.date:date::yyyy-MM-dd}/${message.subject}-${attachment.name.match.fileid}.pdf",conflictStrategy:a.c2.KEEP}}]}]}]}]},o={info:r,config:n}},2744:(e,s,t)=>{t.d(s,{GS:()=>i,jV:()=>a});let a=function(e){return e.DRY_RUN="dry-run",e.SAFE_MODE="safe-mode",e.DANGEROUS="dangerous",e}({});let i=function(e){return e.ERROR="error",e.OK="ok",e}({});Error},2485:(e,s,t)=>{t.d(s,{c2:()=>a});t(2744);let a=function(e){return e.BACKUP="backup",e.ERROR="error",e.KEEP="keep",e.REPLACE="replace",e.SKIP="skip",e.UPDATE="update",e}({})},6407:(e,s,t)=>{t.d(s,{GJ:()=>l,Pn:()=>o,c1:()=>c});var a=t(4729),i=t(8420),r=t(5698),n=(t(5508),t(7158));let o=function(e){return e.ADD_THREAD_LABEL="add-label",e.CUSTOM="custom",e.MARK_MESSAGE_READ="mark-read",e}({}),l=(0,a.A)(null,(function(e){return{F:class{constructor(){e(this)}},d:[{kind:"field",key:"defaultTimestampFormat",value:()=>"yyyy-MM-dd HH:mm:ss"},{kind:"field",key:"defaultArrayJoinSeparator",value:()=>","},{kind:"field",decorators:[(0,i.v)()],key:"logSheetLocation",value:()=>""},{kind:"field",decorators:[(0,i.v)()],key:"maxBatchSize",value:()=>10},{kind:"field",decorators:[(0,i.v)()],key:"maxRuntime",value:()=>280},{kind:"field",decorators:[(0,i.v)()],key:"markProcessedLabel",value:()=>""},{kind:"field",decorators:[(0,i.v)()],key:"markProcessedMethod",value:()=>o.MARK_MESSAGE_READ},{kind:"field",decorators:[(0,i.v)()],key:"sleepTimeThreads",value:()=>100},{kind:"field",decorators:[(0,i.v)()],key:"sleepTimeMessages",value:()=>0},{kind:"field",decorators:[(0,i.v)()],key:"sleepTimeAttachments",value:()=>0},{kind:"field",decorators:[(0,i.v)()],key:"timezone",value:()=>"default"}]}}));function c(e){var s;return e=(0,n.I)(e,(void 0===s&&(s={}),(0,r.bj)(l,s,{exposeDefaultValues:!0,exposeUnsetFields:!1})),{},["markProcessedMethod"])}},7158:(e,s,t)=>{function a(e,s,t,a){return void 0===t&&(t={}),void 0===a&&(a=[]),a=a.concat([]),Object.keys(e).forEach((i=>{const r=function(e,s){return Array.isArray(e)&&s?e=e.map((e=>s(e))):"object"==typeof e&&s&&(e=s(e)),e}(e[i],t[i]),n=JSON.stringify(r);a.includes(i)||null!==r&&n!==JSON.stringify(s[i])&&"[]"!==n&&"{}"!==n||delete e[i]})),e}t.d(s,{I:()=>a})}}]);